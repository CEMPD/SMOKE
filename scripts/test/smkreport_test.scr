#!/bin/csh -f

# This scripts tests Smkreport for a variety of inventories, configurations, and
# source categories, and compares to the results achived previously.

# General settings
setenv RUN_SMKINVEN Y        # These are to get the needed E.V.s
setenv RUN_GRDMAT   Y        # These are to get the needed E.V.s
setenv RUN_SPCMAT   Y        # These are to get the needed E.V.s
setenv RUN_TEMPORAL Y        # These are to get the needed E.V.s
setenv RUN_LAYPOINT Y        # These are to get the needed E.V.s
setenv PROMPTFLAG   N

set debugmode = Y

# Dependent settings
if ( $debugmode == Y ) then
   set command = 'dbx $QA_SRC/smkreport.debug'
else
   set command = $SMK_BIN/smkreport
endif

# Case descriptions
# Case 1: m3demo case (IDA input formats for area, mobile, and point sources)

# Case 3: Utah case (EMS-95 input formats for ar,mb,& pt sources, w/day-spec pt)

# Case controls
set case1_ar  = N
set case1_mb  = N
set case1_pt  = Y

set case3_ar = N
set case3_mb = N
set case3_pt = N

# Case 1
########################################################################

setenv QA_TYPE      state         # Type of preset reports to generate

if ( $case1_ar == Y ) then
 
    setenv SMK_SOURCE A
    source /env/proj/smoke/assigns/ASSIGNS.m3demo.cb-iv.ed36
    setenv REPCONFIG $SCRIPTS/configure/REPCONFIG.ar.state.txt
    setenv REPORT1   $REPSTAT/a.state.$INVOP.rpt
    setenv REPORT2   $REPSTAT/ag.state.$INVOP.rpt
    setenv REPORT3   $REPSTAT/as.state.$INVOP.rpt
    setenv REPORT4   $REPSCEN/at.state.$ESCEN.rpt

    $command 

endif

if ( $case1_mb == Y ) then

    setenv QA_MOBILE std
    setenv SMK_SOURCE M
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.m3demo.cb-iv.ed36
    setenv REPCONFIG $SCRIPTS/configure/REPCONFIG.mb.state.std.txt
    setenv REPORT1   $REPSTAT/m.state.$INVOP.rpt
    setenv REPORT2   $REPSCEN/mgt.state.$ESCEN.rpt
    setenv REPORT3   $REPSCEN/mst.state.$ESCEN.rpt
    setenv REPORT4   $REPSCEN/mt.state.$ESCEN.rpt
    setenv REPORT5   $REPSCEN/mgts.state.$ESCEN.rpt

    $command 

endif

if ( $case1_pt == Y ) then

    setenv SMK_SOURCE P
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.m3demo.cb-iv.ed36
    setenv REPCONFIG $SCRIPTS/configure/REPCONFIG.pt.cell-src.txt
    setenv REPORT1   $REPSTAT/p.cell-src.$INVOP.rpt
#    setenv REPORT2   $REPSTAT/pg.state.$INVOP.rpt
#    setenv REPORT3   $REPSTAT/ps.state.$INVOP.rpt
#    setenv REPORT4   $REPSCEN/pt.state.$ESCEN.rpt

    $command 

endif

# Case 3
########################################################################

setenv QA_TYPE      county         # Type of preset reports to generate
set day = 0211
set jday = 042
set mbd = feb11
set ard = 211

if ( $case3_ar == Y ) then

    setenv SMK_SOURCE A
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.aero96.ut_aero
    setenv REPCONFIG $SCRIPTS/configure/REPCONFIG.ar.$QA_TYPE.txt
    setenv REPORT1   $REPSTAT/a.$QA_TYPE.$INVOP.$ard.rpt
    setenv REPORT2   $REPSTAT/ag.$QA_TYPE.$INVOP.$ard.rpt
    setenv REPORT3   $REPSTAT/as.$QA_TYPE.$INVOP.$ard.rpt
    setenv REPORT4   $REPSCEN/at.$QA_TYPE.$ESCEN.$ard.rpt
    setenv REPORT5   $REPSCEN/agts.$QA_TYPE.$ESCEN.$ard.rpt

    $command 

endif

if ( $case3_mb == Y ) then

    setenv SMK_SOURCE M
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.aero96.ut_aero
    setenv REPCONFIG $SCRIPTS/configure/REPCONFIG.mb.emis_o3.$QA_TYPE.txt
    setenv REPORT1   $REPSTAT/m.$QA_TYPE.$INVOP.$mbd.rpt
    setenv REPORT2   $REPSTAT/mg.$QA_TYPE.$INVOP.$mbd.rpt
    setenv REPORT3   $REPSTAT/ms.$QA_TYPE.$INVOP.$mbd.rpt
    setenv REPORT4   $REPSCEN/mt.$QA_TYPE.$ESCEN.$mbd.rpt
    setenv REPORT5   $REPSCEN/mgts.$QA_TYPE.$ESCEN.$mbd.rpt

    $command 

endif

if ( $case3_pt == Y ) then

    setenv SMK_SOURCE P
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.aero96.ut_aero
    setenv PTMP $SCENARIO/ptmp.19960211.5.base5.ncf
    setenv REPCONFIG $SCRIPTS/configure/REPCONFIG.pt.$QA_TYPE.txt
    setenv REPORT1   $REPSTAT/p.$QA_TYPE.$INVOP.rpt
    setenv REPORT2   $REPSTAT/pg.$QA_TYPE.$INVOP.rpt
    setenv REPORT3   $REPSTAT/ps.$QA_TYPE.$INVOP.rpt
    setenv REPORT4   $REPSCEN/pt.$QA_TYPE.$ESCEN.rpt
    setenv REPORT5   $REPSCEN/pgts.$QA_TYPE.$ESCEN.rpt

    $command 

endif


