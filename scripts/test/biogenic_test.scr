#!/bin/csh -f

# This scripts tests Premobl and Emisfac for a variety of cases, and compares 
# to the results achived previously.

# General settings
setenv RUN_RAWBIO Y
setenv RUN_TMPBIO Y
setenv REPORT_DEFAULTS N

set debugmode = Y

# Dependent settings
if ( $debugmode == Y ) then
   set command1 = 'dbx $BG_SRC/rawbio.debug'
   set command2 = 'dbx $BG_SRC/tmpbio.debug'
else
   set command1 = '$SMK_BIN/rawbio
   set command2 = '$SMK_BIN/tmpbio
endif

# Case descriptions
# Case 1: m3demo case (IDA input formats for area, mobile, and point sources)

# Case controls
set case1_bg_rawbio = N
set case1_bg_tmpbio = Y



# Case 1
########################################################################
setenv GLUSE_YN          N     # Y for gridded landuse, N for county landuse
setenv BIOSW_YN          N     # Y for using freeze date file in Tmpbio
setenv PINE_SURG        60     # Surrogate code - pine
setenv DECD_SURG        60     # Surrogate code - deciduous 
setenv CONF_SURG        60     # Surrogate code - coniferous 
setenv ALLFOR_SURG      60     # Surrogate code - all forest
setenv AGRI_SURG        60     # Surrogate code - agriculture 
setenv GRASS_SURG       60     # Surrogate code - grasslands 
setenv WETL_SURG        60     # Surrogate code - wetlands 
setenv OTHER_SURG       60     # Surrogate code - other land uses 
setenv LAI_SURG         60     # Surrogate code - leaf area index 
setenv TMPR_VAR         TA     # name of temperature variable
setenv RAD_VAR          RGRND  # name of radiation/cloud variable
setenv BIOMET_SAME      N      # Y: temperature and rad/cld data in same file   
setenv BIOG_SPRO        0000   # speciation profile code to use for biogenics
setenv BG_CLOUD_TYPE    1      # method used to calculate PAR
setenv OUTZONE          0      # Output time zone
setenv MET_FILE1 $MET_CRO_3D
setenv MET_FILE2 $MET_CRO_2D

if ( $case1_bg_rawbio == Y  || $case1_bg_tmpbio == Y ) then

    setenv SMK_SOURCE B
    source /env/proj/smoke/assigns/ASSIGNS.m3demo.cb-iv.ed36

    if ( $case1_bg_rawbio == Y ) then
        $command1
    endif

    if ( $case1_bg_tmpbio == Y ) then
        $command2
    endif

endif

# Case 2
########################################################################

