#!/bin/csh -f

# This scripts tests Grwinven for a variety of input file formats and
# source categories, and compares to the results achived previously.

# General settings
setenv RUN_GRWINVEN Y
setenv PROMPTFLAG N

set debugmode = Y

# Dependent settings
if ( $debugmode == Y ) then
   set command = 'dbx $IV_SRC/grwinven.debug'
else
   set command = '$SMK_BIN/grwinven'
endif

# Case descriptions
# Case 1: m3demo case (IDA input formats for area, mobile, and point sources)

# Case controls
set case1_ar = N
set case1_mb = N
set case1_pt = Y


# Case 1
########################################################################

setenv SMK_NUM_CTLMAT       1     # number of control/projection matrices
setenv SMK_GRWSMKOUT_YN     N     # Y outputs a SMOKE-formatted inventory
setenv SMK_GRWIDAOUT_YN     Y     # Y outputs an IDA-formatted inventory

if ( $case1_ar == Y ) then

    setenv SMK_SOURCE A
    setenv FYEAR 2007
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.m3demo.cb-iv.ed36

    setenv GCNTL   $APROJ
    setenv ACMAT01 $APMAT

    $command 

endif

if ( $case1_mb == Y ) then

    setenv SMK_SOURCE M
    setenv FYEAR 2007
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.m3demo.cb-iv.ed36

    setenv GCNTL   $MPROJ
    setenv MCMAT01 $MPMAT

    $command 

endif

if ( $case1_pt == Y ) then

    setenv SMK_SOURCE P
    setenv FYEAR 2007
    source /env/proj/smoke/work/mrh/assigns/ASSIGNS.m3demo.cb-iv.ed36

    setenv GCNTL   $PPROJ
    setenv PCMAT01 $PPMAT

    $command 

endif
