# Version @(#)$Id$ 
# Path    $Source$
# Date    $Date$ 
#
LIBS          = $(LDIRS) -lioapi
LIBS_DEBUG    = $(LDIRS) -lioapi.debug

MODOBJS = \
	ATWORK.o \
	DATABASE.o \
	DDDATA.o \
	DIRNLDAT.o \
	DITEMDAT.o \
	EFUSER94.o \
	LABELS.o \
	LEAKYDAT.o \
	USERDAT.o

OBJS = \
	A8TO11.o \
	ACCF.o \
	AC_ADJ.o \
	ADJ12.o \
	AFTRPREF.o \
	ARBEF.o \
	ATACRO.o \
	ATBIGCFX.o \
	ATCALX.o \
	ATCALX2.o \
	ATCOMPLEX.o \
	ATDB_AGGR.o \
	ATDB_DAILY.o \
	ATEFCVT.o \
	ATEMIRAT.o \
	ATEVP_HRLY.o \
	ATFUEL.o \
	ATGROUP.o \
	ATHCHK.o \
	ATHRLOOP.o \
	ATMETHANE.o \
	ATNH.o \
	ATOUTBUS.o \
	ATOUTDB.o \
	ATOUTDSC.o \
	ATOUTHDV.o \
	ATOUTLDT.o \
	ATOUTSS.o \
	ATPAER.o \
	ATPEFF.o \
	ATRVPEXH.o \
	ATSPEED_CF.o \
	ATTAMPER.o \
	AVGSPD.o \
	BAGEME.o \
	BD01.o \
	BD01P5.o \
	BD02P5.o \
	BD03.o \
	BD04.o \
	BD04P5.o \
	BD05.o \
	BD06.o \
	BD07.o \
	BD08P5.o \
	BD10.o \
	BD11.o \
	BD12.o \
	BD15.o \
	BD16.o \
	BD17.o \
	BD19.o \
	BD20.o \
	BD23.o \
	BD24.o \
	BD25.o \
	BD27.o \
	BD28.o \
	BD29.o \
	BD30.o \
	BD31.o \
	BD33.o \
	BD34.o \
	BD35.o \
	BD36.o \
	BD37.o \
	BD38.o \
	BD39.o \
	BD40.o \
	BD41.o \
	BD42.o \
	BD43.o \
	BD44.o \
	BD45.o \
	BD46.o \
	BD47.o \
	BD48.o \
	BDEVIM.o \
	BDSAVE.o \
	BDSPEED1.o \
	BDSPEED2.o \
	BDUNIT.o \
	BD_AC.o \
	BD_IM1.o \
	BD_IM2.o \
	BD_NGV.o \
	BD_SFTP.o \
	BD_TIER2.o \
	BD_TIER2PM.o \
	BIGCFX.o \
	BIGIN1.o \
	BIGIN2.o \
	BIGMET.o \
	BIGRVP.o \
	BIGSC1.o \
	BIGSC2.o \
	BIGSC3.o \
	BIGSCMC.o \
	BIGTCF.o \
	C1TO7.o \
	C8TO12.o \
	CALAER.o \
	CALCUM.o \
	CALEFR.o \
	CEFPM.o \
	CEFPM30.o \
	CEVMPD.o \
	CHK94UEF.o \
	CHKATP.o \
	CHKINP.o \
	CHKLAB.o \
	CHKMRN.o \
	CKOBDIM.o \
	CKOVLP.o \
	CLCIMPAR.o \
	CNVRT_U.o \
	CO2CALX.o \
	CO2DB_AGGR.o \
	CO2DB_DAILY.o \
	CO2HRLOOP.o \
	CO2METHANE.o \
	CO2OUTDB.o \
	COOXY.o \
	CRANKC.o \
	CXEFGF.o \
	CXEFGF30.o \
	DALSCN.o \
	DBEVAP.o \
	DBEXHRS.o \
	DBOPTS.o \
	DBSELA.o \
	DBSELE.o \
	DBSELF.o \
	DBSELH.o \
	DBSELP.o \
	DBSELPRT.o \
	DBSELTX.o \
	DBSELV.o \
	DBWRUN.o \
	DB_AGGR.o \
	DB_DAILY.o \
	DEFEAT.o \
	DGADJF.o \
	DIRNLDAY.o \
	DIRNLFRC.o \
	DIRNLINI.o \
	DIRNLTEM.o \
	DIRNL_HR.o \
	DISATP.o \
	DISCAL.o \
	DISIMP.o \
	DIURATIO.o \
	DSFIDX.o \
	DSPTCH.o \
	EF81_93.o \
	EF81_93_AVE.o \
	EFCALX.o \
	EFCVT.o \
	EFFGRP.o \
	EFIVT.o \
	EF_CASE.o \
	EF_HDV.o \
	EF_HI_FRCN.o \
	EF_MCDSLPRE81.o \
	EF_POST93.o \
	EF_TIER2.o \
	EMIRAT.o \
	ENFORC.o \
	ETPCAL.o \
	ETPRED.o \
	EV81.o \
	EV85.o \
	EVAPCALC.o \
	EVFAILCALC.o \
	EVHI.o \
	EVIMCALC.o \
	EVMAIN.o \
	EVNOIMCALC.o \
	EVPEME.o \
	EVPRE.o \
	EVP_HRLY.o \
	EVSTD.o \
	EVUNC.o \
	EVWTENH.o \
	EVWTPRE.o \
	EXMPTR.o \
	FINDIM.o \
	FINDPB.o \
	FNDLAB.o \
	FUEL.o \
	FUEL2.o \
	FUELPAR.o \
	GET94E.o \
	GET94P.o \
	GETAC.o \
	GETAROM.o \
	GETATHAPS.o \
	GETATOXY.o \
	GETATP.o \
	GETATWAV.o \
	GETAVG.o \
	GETBENZ.o \
	GETCONV.o \
	GETCPL.o \
	GETCUM.o \
	GETCUT.o \
	GETCYR.o \
	GETDSACT.o \
	GETDSF.o \
	GETDTG.o \
	GETD_PPM.o \
	GETE200.o \
	GETE300.o \
	GETEFR.o \
	GETERQ.o \
	GETFBEN.o \
	GETFPPR.o \
	GETFUEL.o \
	GETFVMT.o \
	GETGLLRDC.o \
	GETGRA.o \
	GETHSACT.o \
	GETHVMT.o \
	GETIMV.o \
	GETIMY.o \
	GETIPR.o \
	GETM5IM.o \
	GETMAR.o \
	GETMIL.o \
	GETMMT.o \
	GETMPG.o \
	GETMTH.o \
	GETNAT.o \
	GETNGVEF.o \
	GETNGVFR.o \
	GETNH3BER.o \
	GETNH3SDR.o \
	GETOIC.o \
	GETOLEF.o \
	GETORE.o \
	GETORR.o \
	GETOXY.o \
	GETPMDDR1.o \
	GETPMDDR2.o \
	GETPMDZML.o \
	GETPMEF.o \
	GETPMGDR1.o \
	GETPMGDR2.o \
	GETPMGZML.o \
	GETPRG.o \
	GETPRS.o \
	GETPSC.o \
	GETREG.o \
	GETRJN.o \
	GETRVP.o \
	GETSCF.o \
	GETSDIST.o \
	GETSGC.o \
	GETSOAK.o \
	GETSPCO.o \
	GETSPD.o \
	GETSVMT.o \
	GETT2CRT.o \
	GETT2EVP.o \
	GETT2FRC.o \
	GETT2PMFRC.o \
	GETTAM.o \
	GETTEF.o \
	GETTTC.o \
	GETVMT.o \
	GETWAV.o \
	GETWIN.o \
	GETWRR.o \
	GETXIM.o \
	GETXMP.o \
	GET_8193.o \
	GET_SULFUR.o \
	GLL_WGT.o \
	HCCALX.o \
	HCOXY.o \
	HDCGPM.o \
	HDCPIC.o \
	HEAT.o \
	HOTSOK.o \
	HRLOOP.o \
	ICCOPT.o \
	IDRATE.o \
	IERPTR.o \
	IEVPTR.o \
	IGRVPT.o \
	IGSFPT.o \
	IMCF.o \
	IMCP81.o \
	IMPROG.o \
	IMPSYR.o \
	IMPTR.o \
	INIFLG.o \
	INILAB.o \
	ININVEH.o \
	INISCN.o \
	INITAP.o \
	INITIM.o \
	IPBFUN.o \
	IRNLPT.o \
	ISPPTR.o \
	ITAMPT.o \
	ITCPTR.o \
	LJCOMP.o \
	METH81.o \
	METHANE.o \
	MOBILE.o \
	MPGCVT.o \
	NGV_EF.o \
	NMOGFID.o \
	NO_TIER2.o \
	NPARAM.o \
	NXTREC.o \
	NXTTOK.o \
	OBD_HI_FRCN.o \
	OFFCYCLE.o \
	OTCALC.o \
	OUTBUS.o \
	OUTDSC.o \
	OUTDTG.o \
	OUTHDR.o \
	OUTHDV.o \
	OUTLDT.o \
	OUTNEW.o \
	OUTSS.o \
	P3WPOX.o \
	PCLEFT.o \
	PCTLEV.o \
	PIV.o \
	PMBERADJ.o \
	PMBERPAR.o \
	PMBRAKETIRE.o \
	PMCALX.o \
	PMDB_AGGR.o \
	PMDB_DAILY.o \
	PMDEMFAC.o \
	PMDRCPSOF.o \
	PMDSO4SO2.o \
	PMFLECON.o \
	PMFRACA.o \
	PMFRACTS.o \
	PMGASPM.o \
	PMGASPM30.o \
	PMGASSL.o \
	PMGSO4SO2.o \
	PMIDLE.o \
	PMLEAD.o \
	PMLEADED.o \
	PMLEDPTR.o \
	PMNH3.o \
	PMOUTBUS.o \
	PMOUTDB.o \
	PMOUTDSC.o \
	PMOUTHDV.o \
	PMOUTLDT.o \
	PMOUTSS.o \
	PMPARSIZ.o \
	PMSO4SO2.o \
	PMTAMPER.o \
	PMTEMFAC.o \
	PRCSCN.o \
	PREFIX.o \
	PROCHDR.o \
	QUITER.o \
	RDT12C.o \
	REFUEL.o \
	REGMOD.o \
	REINIT.o \
	RELHUM.o \
	RESTOR.o \
	RNLOSS.o \
	RNLOSSSU.o \
	RSTLOS.o \
	RVPEXH.o \
	SAVEPB.o \
	SAWTOOTH.o \
	SCFCO.o \
	SCFSLOW.o \
	SCFSP.o \
	SCFTAB.o \
	SCFTABMC.o \
	SETEGS.o \
	SFTP_AC.o \
	SFTP_SPD.o \
	SMKATOUT.o \
	SMKEVPOTHER.o \
	SMKEVPRUN.o \
	SMKEXOUT.o \
	SMKHAPS.o \
	SMKHAPSETUP.o \
	SMKPMOUT.o \
	SOAKCF.o \
	SOAKFCN.o \
	SPEED_CF.o \
	STANDARD.o \
	STOERQ.o \
	STRT_AVE.o \
	SUL_COR.o \
	S_CF_HD.o \
	S_CF_LD.o \
	T2_CRT.o \
	TAMPER.o \
	TECH0.o \
	TESTIM.o \
	TEX1.o \
	TFCALX.o \
	TR2FCTR.o \
	UCCOMP.o \
	VEHCOUNT.o \
	VOCFID.o \
	WTLRNL.o \
	YRTEST.o

.F.o:
	$(FC) $(FFLAGS) -DM6LIB -c -o $@ $<

mobile6: $(MODOBJS) $(OBJS) DRIVER.o
	$(FC) $(FFLAGS) -o $(SMK_BIN)/$(@) $(MODOBJS) $(OBJS) DRIVER.o $(LIBS)

mobile6.debug: $(MODOBJS) $(OBJS) DRIVER.o
	$(FC) $(DBGFLAGS) -o $(@) $(MODOBJS) $(OBJS) DRIVER.o $(LIBS_DEBUG)

lib: $(MODOBJS) $(OBJS) SMKDRIVER.o
	ar rv $(SMK_BIN)/libmo6.a $(MODOBJS) $(OBJS) SMKDRIVER.o

## Module dependencies
include $(MD_SRC)/modmake.inc

SMKATOUT.o     : $(MODEMFAC)
SMKEVPOTHER.o  : $(MODEMFAC)
SMKEVPRUN.o    : $(MODEMFAC)
SMKEXOUT.o     : $(MODEMFAC)
SMKHAPS.o      : $(MODEMFAC)
SMKHAPSETUP.o  : $(MODEMFAC)
SMKPMOUT.o     : $(MODEMFAC)

clean:
	/bin/rm *.o
	/bin/rm *.mod
