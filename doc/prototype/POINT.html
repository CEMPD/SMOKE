
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML> 
<HEAD>
<TITLE> 
    Point Source Emissions
</TITLE>
</HEAD>
   
<BODY>
<H1>
    Point Source Emissions
</H1>

<H2> Contents </H2>
<UL>
    <LI>  <A HREF = "#overview"> Processing overview</A>
    <LI>  <A HREF = "#concepts"> Point-specific concepts</A>
    <LI>  <A HREF = "#dataflow"> Data flow</A>
    <UL>
        <LI>  <A HREF = "#data"> Data Preparation and Import</A>
        <LI>  <A HREF = "#temp"> Temporal Processing</A>
        <LI>  <A HREF = "#spec"> Speciation Matrix Construction</A>
        <LI>  <A HREF = "#grid"> Gridding Matrix Construction</A>
        <LI>  <A HREF = "#cntl"> Control and/or Projection Matrix Construction</A>
        <LI>  <A HREF = "#xfrm"> Data Transforms</A>
    </UL>
    <LI>  <A HREF = "#programs"> Program List</A>
    <LI>  <A HREF = "#dataset">  Point Source Data Set Definitions</A>
</UL>
<br>

<HR> 

<H2> <A NAME = "overview"> Processing overview</A> </H2>
<b>  <A NAME = "essence"> The Essence</A> </b><br>
The essence of point source emissions processing in SMOKE is converting
inventory pollutant data for point source stacks from an aggregated annual,
daily, or hourly emissions value to hourly and gridded emissions of the
chemical species used by an air quality model.  The SMOKE processing can be run
with or without control strategies.  The system accepts the raw data in two
input formats: EPS2.0 and EMS-95, but there are some constraints, as described
in the descriptions of the input processors <a href= "#RAWPOINT">
RAWPOINT</a> and <a href= "#EMSPOINT"> EMSPOINT</a>.

<P> <b>  <A NAME = "dayspec"> Day-specific and hour-specific data</A> </b><br>
For the EPS2.0 raw data input format, emissions are often prepared as an annual
average.  If, however, data are also available as daily totals or hourly totals,
SMOKE will accept these inputs as well, also in the EPS2.0 format.  For the
EMS-95 raw data input format, emissions are usually prepared as either average
daily totals or hour-specific totals, both of which SMOKE can handle
effectively.

<P>
<b>  <A NAME = "plumrise"> Point sources are 3D</A> </b><br>
The plumes arising from point source emissions extend high into the vertical
structure of the air quality modeling grid definition.  For these sorts of
plumes, the <em> plume rise</em> needs to be modeled, and the emissions from
these sources provided to the air quality model in three dimensions.  SMOKE can
model plume rise in two ways, as described in the <a href= "#concepts">
concepts</a> section below.

<P>
<b>  <A NAME = "remainingSteps"> Remaining Steps</A> </b><br>
The remaining point source processing steps are speciation, temporal
allocation, projection, control, and gridding.  These are implemented using the
standard emissions cross-reference and profile approach in which each county,
SCC code, plant ID, and stack ID is indirectly assigned a profile number by
using a cross-reference file.  A given profile number is used to find the
appropriate temporal profile, speciation profile, etc., that transform the raw
data using factors from the profiles.

<P>

<HR> 

<H2> <A NAME = "concepts"> Point-specific concepts</A> </H2>

<b>  <A NAME = "sources"> Sources</A> </b><br> 

SMOKE point sources are defined by the following identifiers: State and county
FIPS code, SCC code, Plant ID, and Stack ID.  The definition does not
currently include device or process, and so profiles and controls may not be
applied on this basis.  All profiles and controls, however, may be applied as
specifically as for each stack.

<p>
<b>  <A NAME = "layFracs"> Layer fractions method</A> </b><br>

SMOKE has two separate methods for calculating plume rise, one of which must be
selected for use in processing, and this decision is based on the air quality
model for which the emissions are being prepared.  The air quality models <a
href= "http://www.iceis.mcnc.org/EDSS/EDSSPage.html#MAQSIP"> MAQSIP</a> and SAQM require the layer
fractions method, because these models typically have fine vertical
resolutions.  For this method, meteorological data are used to calculate the
plume rise for <b>all</b> point source emissions using essentially the same
method as in the RADM air quality model.  Then, the plume is evenly distributed
into the vertical layers that the plume intersects.  Only these fractions are
stored (not the emissions in each layer), until the SMOKE merge step, and
consequently, the plume rise calculations do not need to be repeated for each
control strategy or grid (unlike the situation in which the plume rise
calculations are done inside the air quality model, such as in the UAM-IV and
UAM-V).  The plume rise does need to be calculated, using the <a href=
"#LAYPOINT"> LAYPOINT</a> processor, for all days of each meteorological
scenario.

<p>
For more information on how the layer fraction method differs from the EPS2.0
approach (which uses the cutoff method described next), see the <a href=
"EPSDIFS.html#plumes"> Plume Rise</a> part of the EPS differences section.

<p> <b>  <A NAME = "cutoff"> Cutoff method</A></b><br> 

Another approach to modeling plume rise is first to quickly estimate the
plume rise using a Briggs-algorithm plume rise calculation similar to that
found in EPS2.0, and then compare this plume rise to a user-defined cutoff value. 
Sources below this cutoff are treated as single-layer point sources, and
sources above this cutoff are considered elevated point sources.  In SMOKE, the
<a href= "#ELEVPOINT"> ELEVPOINT</a> program  makes this distinction, and
the <a href= "#TMPPOINT"> TMPPOINT</a> program outputs separate hourly
emissions for single-layer and elevated point sources.  Eventually, two air
quality input files will result from this approach, a 1st-layer file and an
elevated point sources file.  These files are used by the UAM-IV and UAM-V. 
Some changes to the Briggs algorithm have been made in SMOKE, and these are
described in the <a href= "EPSDIFS.html#plumes"> Plume Rise</a> section of the
EPS differences page.

<p> <b>  <A NAME = "year2year"> Multiple year-to-year projections</A></b><br> 

SMOKE can combine raw data from different inventory years into a
single inventory.  The inventory year is stored as one of the records in the
SMOKE point source inventory file <a href= "#PNTS"> PNTS</a>.  The  data
from these different years can then be projected to the same year using the <a
href= "#CTLPMAT"> CTLPMAT</a> projection and controls program.  Although
this program uses the EPS2.0-formatted  control file, the format of the
projection packet in this file has been modified so that the projection factors
are listed with the "from year" and the "to year".

<P>
<HR> 

<H2> <A NAME = "dataflow"> Dataflow</A> </H2>
<H3><A NAME = "Intro"> Introduction </A></H3>
<b> <A NAME = "complex"> Point processing is more complex than area sources</A></b><br>

Point source emissions processing is more complex than area sources, but less
complex than mobile sources.  The complexity arises from the plume rise
processing and potential (depending on plume rise method used) interaction with
meteorological data.  This additional step causes point source processing to
deviate somewhat from the general <a href = "figs/smokfig3.gif">
SMOKE submodel structure</a>, but only by the additional plume rise processing
steps.  The modularity of the gridding, speciation, and control steps is
maintained completely.

<P> The following <b>data flow diagram</b> provides a conceptual
overview of  point-source processing stages.  (Details on the various items on
the figure are given in the next section.)
<P>
<img align=center src="figs/POINT.gif" ALT="Point Source Processing"><P>    
(This diagram is available in the following formats:  in
    <A HREF = "figs/POINT.ps">Postscript</A>, in
    <A HREF = "figs/POINT.gif">GIF</A>, in
    <A HREF = "figs/POINT.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.jpg">JPEG</A>. 
    
<P> In addition, diagrams giving an 
    overview of the main line of SMOKE processing  and how point source
    processing fits into that whole are available for 
    <STRONG>UAM</STRONG> air quality modeling in
    <A HREF = "figs/OVERVIEW.UAM.ps">Postscript</A>, in
    <A HREF = "figs/OVERVIEW.UAM.gif">GIF</A>, in
    <A HREF = "figs/OVERVIEW.UAM.xbm">X bitmap</A>, and in
    <A HREF = "figs/OVERVIEW.UAM.jpg">JPEG</A>; 
    and also for <STRONG>EDSS</STRONG> air quality modeling in
    <A HREF = "figs/OVERVIEW.EDSS.ps">Postscript</A>, in
    <A HREF = "figs/OVERVIEW.EDSS.gif">GIF</A>, in
    <A HREF = "figs/OVERVIEW.EDSS.xbm">X bitmap</A>, and in
    <A HREF = "figs/OVERVIEW.EDSS.jpg">JPEG</A>.  Note that additional
    options for analysis and quality assurance processing are detailed
    in the diagrams on point source processing.

<P>

    As the figure above shows, many of the steps can be performed
    simultaneously, because they do not depend on one another.  The <b> data
    preparation and import step</b> (RAWPOINT, EMSPOINT, PDPOINT, and PDEMSPT)
    must be performed first, followed by <b> indentification of elevated sources
    </b> (ELEVPOINT), but the subsequent steps of <b> temporal processing</b>
    (TMPPOINT and LAYPOINT), <b> speciation matrix construction</b> (SPCPMAT),
    <b> gridding</b> (GRDPMAT), and <b> control and/or projection matrix
    construction</b> (CTLPMAT) can be performed in any order.  The <b>data
    transform step(s)</b> (CSGLMERGE, CSGLDAYMRG, CSGMERGE, CSELEV, CSGPOINT, or
    GRDPOINT) must be performed last, or at least after the required matrices
    have been created.

<P>
    In the figure, "Other EM Data" refers to the emissions and matrices from
    area, mobile, and biogenic emissions sources.  The dashed lines indicate
    optional steps.  <p>
    
    <b>In the descriptions below, program and file names that are
    in italics indicate optional steps or input/output files.</b>


<H3> <A NAME = "data"> Data Preparation and Import </A></H3>

    The point source submodel of SMOKE accepts either the EPS2.0-formatted raw
    inputs, or EMS-95-formatted raw inputs.  However, for the EPS2.0 format,
    SMOKE assumes that plant and stack IDs are given as integers, and that the
    time scale of the data is either annual, day-specific, or hour-specific. 
    For the EMS-95 format, SMOKE reads the annual, average-day, day-specific, or
    hour-specific data.  The EMS-95 files emission.pt, facility,pt, device,pt,
    process.pt, stack.pt, and pdayspec.pt are all readable by SMOKE. The input
    emissions files can be used in SMOKE without preprocessing, with the
    following exceptions:<br>

    <ul>
    <li>EPS2.0 plant and stack IDs must be integers 
    <li>EPS2.0 day- and hour- specific data must be two files (one for each type
    of data), and must be sorted in order of increasing time.
    </ul>

    Using either format, multiple files can be used (separated, for example, for
    different states), and multiple inventory years may also be used for each.

    <P>  <b>If the EPS2.0 input raw file format is used:</b>
    
    <b><A HREF= "#RAWPOINT"> RAWPOINT</A> program:</b> Reads in all
    of the EPS2.0-formatted raw data files, including any day- or hour-specific
    data.
                 
    <ul>  
    <li>INPUTS:
        <ul> 

	<li> <A HREF= "#PNLST"> PNLST</A> (ASCII): Contains a list of
	all of the EPS2.0- formatted point source input files
	<li> <A HREF = "#PSTK"> PSTK</A> (ASCII):  Replacement values of
        missing stack parameters
        <li> <A HREF = "MERGE.html#ZONES">ZONES</A> (ASCII): Time-zone cross reference
        file (per state/county)
        <li> <a href="MERGE.html#GRIDDESC"> GRIDDESC</a> (ASCII): Parameters describing
        grid and grid projection (of Earth's surface to the plane of the grid)

        </ul> 

    <li>OUTPUTS:
        <ul>
        
	<li> <a href= "#PNTS"> PNTS</a> (NetCDF): Sorted list of point
	sources, called the "emissions source attributes database" or the
	"SMOKE inventory" file.  This file contains the codes (FIPS, SCC, etc.)
	identifying each source and the annual inventory pollutant totals. It
	is used by the <a href= "#GRDPMAT"> GRDPMAT</a>, <a href=
	"#SPCPMAT"> SPCPMAT</a>,  <a href= "#TMPPOINT"> TMPPOINT</a>,
	and <a href= "#CTLPMAT"> CTLPMAT</a> programs.  It is also
	potentially used by the <a href= "#PDPOINT"> PDPOINT</a>, <a href=
	"#LAYPOINT"> LAYPOINT</a>, <a href= "#ELEVPOINT">
	ELEVPOINT</a>, <a href= "QA.html#GRDPOINT"> GRDPOINT</a>, and <a href= 
	"QA.html#CSGPOINT"> CSGPOINT</a> programs.
	<li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes 
	appearing in the inventory.  It is used by the <a
	href="#TMPPOINT"> TMPPOINT</a> and <a href="#SPCPMAT"> 
	SPCPMAT</a> programs.

        </ul>
    </ul>
    
    <p> <b> If day- and/or hour-specific raw input EPS2.0 data are used:</b>
    
    <b><A HREF= "#PDPOINT"> PDPOINT</A> program:</b> Reads the data and
    outputs a day- or hour-specific SMOKE inventory file. 
    
    <ul>
    <li>INPUTS:
        <ul>
        
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from 
        the <A HREF= "#RAWPOINT"> RAWPOINT</A>  program
        <li><A HREF = "#PRDAY"> PRDAY</a> (ASCII): EPS2.0 day-specific data
        file
        <br>
        <b>OR</b><br>
        <A HREF = "#PRDAY"> PRHOUR</a> (ASCII): EPS2.0 hour-specific data
        file
        
        </ul>
    <li> OUTPUTS:
        <ul>
        
        <li><A HREF= "#PDAY"> PDAY</a> (NetCDF): SMOKE day-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program<br>
        <b>OR</b><br>
        <A HREF= "#PDAY"> PHOUR</a> (NetCDF): SMOKE hour-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program
        </ul>
    
    <li>NOTES:
        <P>
        
	 This program inputs a <em> single</em> file of <em>either</em> day-
        specific records or hour-specific records. If day-specific and
        hour-specific data are both used, two runs of the program must be made.
        Since a single file is used for each run, all
        day-specific or hour-specific data must be in two files, at most.
        <p>
        For sources with day- or hour-specific data, the annual total inventory
	pollutant emissions in the PNTS inventory file are set to zero unless
	annual records are also provided for these sources. Further, the
	inventory preparer <STRONG>must make sure </STRONG> that
	period-specific records are present for <STRONG>every</STRONG>  time
	step (hour or day) present, by padding the PRDAY or PRHOUR file with
	zero-emissions records for those sources if necessary.<p>
       
        The period-specific files are simply duplicates of those
        input to <A HREF = "#RAWPOINT"> RAWPOINT</A>.  Different functions are
        served in each of the two programs. In RAWPOINT, the sources are given a
        standard position in the source order, the source attributes (stack
        parameters, etc.) are recorded in the inventory file.  In <a href= 
        "#PDPOINT"> PDPOINT</a>, the sources are processed at each time
        step of the input file, and the specific emissions are recorded in a
        specific file.<p>
    </ul>
    
    <p> <b> If EMS-95 format is used:</b>
    
    <b><a href= "#EMSPOINT"> EMSPOINT</a> program:</b> Reads the five types
    of EMS-95 annual or average day data files.
    
    <ul>
    <li> INPUTS
        <ul> 

	<li> <A HREF= "#PNLST"> PNLST</A> (ASCII): Contains a list of
	all of the EMS95- formatted point source input files (they must be in a
	specific order - <b>see notes below</b>)
	<li> <A HREF = "#PSTK"> PSTK</A> (ASCII):  Replacement values of
        missing stack parameters
        <li> <A HREF = "MERGE.html#ZONES">ZONES</A> (ASCII): Time-zone cross reference
        file (per state/county)
        <li> <a href="MERGE.html#GRIDDESC"> GRIDDESC</a> (ASCII): Parameters describing
        grid and grid projection (of Earth's surface to the plane of the grid)

        </ul> 

    <li>OUTPUTS:
        <ul>
        
	<li> <a href= "#PNTS"> PNTS</a> (NetCDF): Sorted list of point
	sources , called the "emissions source attributes database" or the
	"SMOKE inventory" file.  This file contains the codes (FIPS, SCC, etc.)
	identifying each source and the annual inventory pollutant totals. It
	is used by the <a href= "#GRDPMAT"> GRDPMAT</a>, <a href=
	"#SPCPMAT"> SPCPMAT</a>,  <a href= "#TMPPOINT"> TMPPOINT</a>,
	and <a href= "#CTLPMAT"> CTLPMAT</a> programs.  It is also
	potentially used by the <a href= "#PDPOINT"> PDPOINT</a>, <a href=
	"#LAYPOINT"> LAYPOINT</a>, and <a href= "#ELEVPOINT">
	ELEVPOINT</a> programs. 
	<li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes 
	appearing in the inventory.  It is used by the <a
	href="#TMPPOINT"> TMPPOINT</a> and <a href="#SPCPMAT"> 
	SPCPMAT</a> programs.
	<li><a href= "#PSRC"> PSRC</a> (ASCII): List of sources with the
	SMOKE plant and stack integer IDs, and the EMS-95 alpha-numeric IDs
	<li><a href= "#PTREF"> PTREF</a> (ASCII): Temporal cross-reference
	file, used by the <a href="#TMPPOINT"> TMPPOINT</a> program.

        </ul>
    <li> NOTES:
        <P>
        
	In the input file <A HREF= "#PNLST"> PNLST</A>, each set of five
	EMS95 inputs files must be in a specific order.  This order is the
	same as that which one gets from using the UNIX command "ls".  So, to
	create this file, one can use "ls $INVDIR/*/common/*.pt &gt $PNLST"
	- this will put the files in the correct order.
	<p> 
	  
	The program permits the plant and stack IDs to be alpha-numeric
	(instead of integers in RAWPOINT), but reassigns integer values to
	these plants and stacks.  This is necessary because SMOKE derives much
	of its processing speed from the integer-based sorting and searches
	used to apply the cross-reference and profile files.  A listing of
	EMS-95 and SMOKE codes is output into the <a href= "#PSRC">
	PSRC</a> file.  In addition, the temporal cross-reference file <a href=
	"#PTREF"> PTREF</a> is output from this program, because the
	temporal profile IDs are listed as part of the EMS-95 input files. <p>
                
	If there are inventory records with zero emissions which need to be
	placed in the <a href= "#PNTS"> PNTS</a> file, then the
	"emissions.pt" file (from EMS95 naming), must contain these sources,
	with a 0.0 entered for all of the emissions values.  <b>It is  not
	sufficient to have these sources listed only in the "facility.pt" file
	</b>	
    </ul>
    
    <p> <b> If hour-specific EMS-95 data are used:</b>
    
    <b><A HREF= "#PDEMSPT"> PDEMSPT</A> program:</b> Reads the data and
    outputs an hour-specific SMOKE inventory file. 
    
    <ul>
    <li>INPUTS:
        <ul>
        <li><A HREF= "#PHLST"> PHLST</a> (ASCII): Contains a list of
	all of the EMS95- formatted point source input files (they must be in a
	specific order - <b>see notes below</b>)
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from 
        the <A HREF= "#EMSPOINT"> EMSPOINT</A> program
	<li><A HREF= "#PSRC"> PSRC</a> List of sources with the
	SMOKE plant and stack integer IDs, and the EMS-95 alpha-numeric IDs
        </ul>
        
    <li> OUTPUTS:
        <ul>
        <li> <A HREF= "#PDAY"> PHOUR</a> (NetCDF): SMOKE hour-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program
        </ul>
    
    <li>NOTES:
        <P>
        
	In the input file <A HREF= "#PHLST"> PHLST</A>, two types of files must
	appear.  The first file is the process.pt file, which permits SMOKE to
	match the sources in the pdayspec.pt files with the sources in the <a
	href= "#PNTS"> PNTS</a> inventory file.  All process.pt files that match
	the sources with hour-specific data must be listed first in this input
	format.  The process.pt files must contain all sources with
	hour-specific data, but can also include sources without such data (it
	is recommended that the same process.pt files used for EMSPOINT are used
	here as well). All files containing hour-specific data for the sources
	in the process.pt file must follow the process.pt file.  This can be
	mulitple files, each containing a single day of data, or one file with
	multiple days of data.<p> 

        For sources with hour-specific data, the annual total inventory
	pollutant emissions in the PNTS inventory file are set to zero unless
	annual records are also provided for these sources. <p>

	The presence of missing data in the hour- specific data file is handled
	differently depending on the value of the RAW_SRC_CHECK environment
	variable.  The default behavior (and when RAW_SRC_CHECK is set to 'N'),
	is to set the emissions to zero for periods and pollutants in which the
	emissions are missing from the input file.  If the RAW_SRC_CHECK
	environment variable is set to 'Y', then the inventory preparer
	<STRONG>must make sure </STRONG> that hour-specific records are present
	for <STRONG>every</STRONG> hour between the earliest and latest hours
	in the inputs (even if this requires padding the input file(s) with
	zero-emissions records).  When  RAW_SRC_CHECK is set to 'Y', the 
	program will abort if any records are missing.<p>

	The hourly input records, however, do not need to be sorted in
	chronological order.<p>

    </ul>
    
    <p>    
    <STRONG>Data flow diagrams</STRONG> describing point source 
    data preparation and import are available in
    <A HREF = "figs/POINT.RAW.ps">Postscript</A>, in
    <A HREF = "figs/POINT.RAW.gif">GIF</A>, in
    <A HREF = "figs/POINT.RAW.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.RAW.jpg">JPEG</A>.
    <P> 


<H3><A NAME = "temp"> Temporal Processing </A></H3>

    Temporal processing for point sources is comprised of several different
    possible steps.

    <p>
    <b>Basic temporal processing:</b><br>

    <b><A HREF = "#TMPPOINT"> TMPPOINT</A> program:</b>
    
    Creates the point source hourly inventory pollutant emissions
    file(s) by applying the monthly, weekly, and diurnal temporal profiles
    based on the inventory source characteristics and the cross-reference file.
      
    <ul> 
    <li>INPUTS:
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from 
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs.
        <li><em><A HREF= "#PDAY"> PDAY</a></em> (NetCDF): SMOKE day-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program.
        <li><em><A HREF= "#PDAY"> PHOUR</a></em> (NetCDF): SMOKE hour-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program.
        <li><em><A HREF = "#PELV"> PELV</A></em> (ASCII): Elevated source
        list from the <a href= "#ELEVPOINT"> ELEVPOINT</a> program.
        <li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes
        appearing in the inventory from the <a
        href="#TMPPOINT"> TMPPOINT</a> program.
        <li><A HREF = "#PTPRO"> PTPRO</A> (ASCII): EPS2.0- formatted
        temporal profiles.
        <A HREF = "#PTREF"> PTREF</A> (ASCII): EPS2.0- formatted or output
        file from <A HREF=
        "#EMSPOINT"> EMSPOINT</a> program.
        </ul>
      
    <li>OUTPUTS:
     <ul>
         <li><A HREF = "#PTMP"> PTMP</A> (NetCDF): Hourly inventory
         pollutant emissions.  This file is used by the CSGMERGE, CSGLMERGE, or
         CSGLDAYMRG programs, and can optionally be used by the <em>
         GRDPOINT</em>, and <em> CSGPOINT</em> programs.
         <li><em><A HREF =
    "#ETMP"> ETMP</A></em> (NetCDF): Hourly elevated inventory pollutant
    emissions used by <em> CSELEV</em>
    </ul>
    
    <li>NOTES:
    <P>
    The temporal profiles are matched to the source- level emissions using the
    cross- reference file.  The following source characteristics are used to
    apply these profiles: State and County FIPs code, SCC code, Plant ID,
    Stack ID, and pollutant code.  The cross- reference can be created to apply
    profiles using defaults at any of these levels.
    <p>
    
    If the "cutoff method" is used for plume rise processing, then the <A HREF =
    "#PTMP"> PTMP</A> file contains emissions for only non-elevated point
    sources, and <A HREF = "#ETMP"> ETMP</A> is created.  Those sources
    listed in ETMP are given  emissions values of zero in PTMP to prevent
    double-counting. The <a href= "#PELV"> PELV</a> file is used to
    invoke this method.
    
    <p>    For the temporal cross-reference file, the   source-specific  <A HREF
    = "#PTREF"> PTREF</A> is read if using EMS95 for raw input format,
    otherwise, the EPS2.0-formatted <A HREF = "#PTREF"> PTREF</A> is read
    (this distinction automatically by the program).  The day- or hour-specific
    inventory data <A HREF = "#PDAY">PDAY or PHOUR</A> from <a href=
    "#PDPOINT"> PDPOINT</a> are optional.  If these files are provided, the
    emissions from them are substituted into the computation stream where
    appropriate, overwriting any average data from <a href= "#PNTS">
    PNTS</a>.
 
    <p>    
    TMPPOINT also requires input of the starting date (format either YYYYDDD,
    YYYYMMDD), starting time (format HHMMSS), and duration (hours) for the
    simulation.  The duration is not limited to 24 hours.  
    </ul>
    
    <p>
    <b>Day- or hour-specific data processing:</b><br>
    
    <ul><li>
    See description of <a href= "#PDPOINT"> PDPOINT</a> above. 
    </ul>
    
    <p> <b>Layer-fraction plume rise processing:</b><br> 
    
    <b><A HREF = "#LAYPOINT"> LAYPOINT</A> program:</b>

     Computes plume layer fractions (as described <a href=
    "#layFracs"> above</a> for each source and hour.
    
    <ul>
    <li>INPUTS
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li><A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#GRID_CRO_3D"> 
            LAYGRD</A>, 
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#GRID_CRO_2D"> 
            SFCGRD</A>, 
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#MET_CRO_3D"> 
            LAYCRO</A>, 
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#MET_CRO_2D"> 
            SFCCRO</A>, and
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#MET_DOT_3D"> 
            METDOT</A> (All NetCDF):  <a href=
            "http://www.iceis.mcnc.org/EDSS/MCIPPage.html#MAQSIP"> MAQSIP</a> meteorology files
        </ul>
    <li>OUTPUTS:
        <ul>
        <li><A HREF = "#PLAY"> PLAY</A> (NetCDF): Hourly layer fractions for each
              source, used by the merge
              programs <a href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a> and <a href=
              "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a> to create three-dimensional emissions
              files
        </ul>
    </ul>

    <p>
    <b>Cutoff plume rise processing:</b><BR>
   <b><A HREF = "#ELEVPOINT"> ELEVPOINT</A> program:</b> 
    
    Used for plume-rise processing using a cutoff (a.k.a., UAM-style plume rise
    processing) to create an ASCII list of elevated sources 
    
    <ul> 
    <li>INPUTS:
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        </ul>
    <li>OUTPUTS:
        <ul>
        <li><A HREF = "#PELV"> PELV</A> (ASCII): Elevated source
        list,  used optionally by the <a href= "#TMPPOINT"> TMPPOINT</a> 
        program
        </ul>
    <li>NOTE:
        <ul><li>
        The program also read in a cutoff height
        </ul>
    </ul>
 
    <P> 
    <STRONG>Data flow diagrams</STRONG> describing the processing
    related to point source temporal allocation are available in
    <A HREF = "figs/POINT.TMP.ps">Postscript</A>, in
    <A HREF = "figs/POINT.TMP.gif">GIF</A>, in
    <A HREF = "figs/POINT.TMP.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.TMP.jpg">JPEG</A>.
    <P> 


<H3><A NAME = "spec"> Speciation Matrix Construction </A></H3>

    <b><A HREF = "#SPCPMAT"> SPCPMAT</A> program:</b> 
    
    Creates the point-source speciation matrix used to transform each inventory
    pollutant to its model species
    
    <ul>
    <li>INPUTS:
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes 
	appearing in the inventory
	<li> <a href="#PSPRO"> PSPRO</a> (ASCII): EPS2.0- formatted
	speciation profiles
	<li> <A HREF ="#PSREF">PSREF</A> (ASCII): EPS2.0- formatted
        speciation cross- references
	<li> <a href="#PSCNV"> PSCNV</a> (ASCII): Volatile conversion
	factors (e.g., ROG to TOG)
        </ul>
    <li>OUTPUTS:
        <ul>
        
	<li><A HREF = "#PSMAT"> PSMAT</A> (NetCDF): Speciation matrix, used
	by  <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>, and/or <a href=
	"MERGE.html#CSGLMERGE"> CSGLMERGE</a>, and/or <a href= "MERGE.html#CSGLDAYMRG">
	CSGLDAYMRG</a>, and optionally by  <em><a href="QA.html#CSGPOINT">
	CSGPOINT</a> </em>.
	
        
        </ul>
    <li>NOTES:
        <P>

	The speciation profiles are matched to the source- level emissions
	using the cross- reference file.  The following source characteristics
	are used to apply these profiles: State and County FIPs code, SCC
	code, Plant ID, and Stack ID.  The cross- reference can
	be created to apply profiles using defaults at any of these levels.
    
	<p> The volatile conversion factors are used only if the speciation
	profiles for the volatile inventory pollutant are for a pollutant other
	than the that in the inventory.  The need for this file is determined
	at run time automatically by the program.  The volatile pollutant that
	the program will expect on input is determined at compile time by the
	CHDIMS3.EXT include file.
    </ul>
    <P> 
    
    <STRONG>Data flow diagrams</STRONG> describing 
    point source speciation matrix construction are available in
    <A HREF = "figs/POINT.SPC.ps">Postscript</A>, in
    <A HREF = "figs/POINT.SPC.gif">GIF</A>, in
    <A HREF = "figs/POINT.SPC.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.SPC.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "grid"> Gridding Matrix Construction </A></H3>

    <b><A HREF = "#GRDPMAT"> GRDPMAT</A> program:</b> 
    
    Creates the point-source gridding matrix used to transform source- based
    emissions to gridded output based on the coordinate of each
    stack in the inventory.
    
    <ul>
    <li>INPUTS:
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li> <a href= "MERGE.html#GRIDDESC"> GRIDDESC</a> (ASCII): Parameters describing grid and grid projection (of Earth's surface to
          the plane of the grid)

        </ul>
    <li>OUTPUTS:
        <ul>
        
	<li><A HREF = "#PGMAT"> PGMAT</A> (NetCDF): Gridding matrix, used
	by  <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>, and/or <a href=
	"MERGE.html#CSGLMERGE"> CSGLMERGE</a>, and/or <a href= "MERGE.html#CSGLDAYMRG">
	CSGLDAYMRG</a>, and optionally by <em> <a href="QA.html#CSGPOINT">
	CSGPOINT</a> </em> and/or <em> <a href="QA.html#GRDPOINT"> GRDPOINT</a>
	</em>
        
        </ul>
    </ul>

    <STRONG>Data flow diagrams</STRONG> describing 
    point source gridding matrix construction are available in
    <A HREF = "figs/POINT.GRD.ps">Postscript</A>, in
    <A HREF = "figs/POINT.GRD.gif">GIF</A>, in
    <A HREF = "figs/POINT.GRD.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.GRD.jpg">JPEG</A>.
    <P> 


<H3><A NAME = "cntl"> Control and/or Projection Matrix Construction </A></H3>

    <b><A HREF = "#CTLPMAT"> CTLPMAT</A> program:</b> 
    
    Creates the point-source control and projection matrix (or matrices)
    
    <ul>
    <li>INPUTS:
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li> <A HREF = "#PCTRL"> PCTRL</A> (ASCII):  EPS2.0- formatted
        control factors input file
        <li> <em><A HREF = "#PCTRACK"> PCTRACK</a></em> (ASCII): Optional list
        of sources for which control application tracking will be performed
        </ul>
    <li>OUTPUTS:
        <ul>
        
	<li><A HREF = "#PCMAT"> PCMAT</A> (NetCDF): Control and Projection
	matrix, used by  <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>, and/or <a
	href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a>, and/or <a href=
	"MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a>, and optionally by  <em><a
	href="QA.html#CSGPOINT"> CSGPOINT</a> </em>
	<li><em> <A HREF = "#PCREPT"> PCREPT</A></em> (ASCII): Optional
	output report of controls applied for sources listed in  <em><A HREF =
	"#PCTRACK"> PCTRACK</a></em> file, or for all sources
        
        </ul>
    <li>NOTE:
        <P>

	How specifically a given control can be applied to a source depends on
	the control packet being used.  The rules for this follow those of the
	EPS2.0 control packets, and refer to the EPS2.0 documentation for more
	information.  The projection factors can be applied by year,
	State and County FIPs code, and SIC code.
        
	Only a subset of the EPS2.0 list of control packets is supported; the
	list of unsupported packet types is documented in the section on<A HREF
	= "EPSDIFS.html#controls"> Differences with EPS2.0</A>.  In addition,
	the projection packet has been modified to permit multiple
	inventory-year to model-year projections.  For example, an inventory
	using 1988 and 1990 data in the same file could be projected to 1995
	with only one data-import step and one projection step.  This format is
	described in the section devoted to <A HREF = "#PCTRL"> PCTRL</A>.
    
        <p>
        If this program is used twice, and the  <A HREF = "#PCTRL">
        PCTRL</A> input files created correctly, this program can be used to
        create individual control and projection matrices, instead of a single
        control and projection matrix.
         
    </ul>


    <STRONG>Data flow diagrams</STRONG> describing 
    point source control matrix construction are available in
    <A HREF = "figs/POINT.CTL.ps">Postscript</A>, in
    <A HREF = "figs/POINT.CTL.gif">GIF</A>, in
    <A HREF = "figs/POINT.CTL.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.CTL.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "xfrm"> Data Transform</A></H3>

    Data transforms are made by combining the inventory pollutant emissions
    (from <a href= "#PNTS"> PNTS</a>) or the hourly pollutant emissions
    (from <A HREF = "#PTMP"> PTMP</A> or <A HREF = "#ETMP"> ETMP</A>)
    with the various matrices.  Several different types of these transforms are
    possible, for air-quality model input preparation, analysis, or
    visualization.  Please refer to the section on <a href="MERGE.html"> MERGE
    PROCESSING</a> for the detailed input and output file lists.

    <p>
    <b>Three-dimensional air quality modeling inputs merged with other source
    types</b><BR>

    The <A HREF = "MERGE.html#CSGLMERGE"> CSGLMERGE</A> and <A HREF =
    "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</A> programs are used to build
    three-dimensional air quality modeling inputs, appropriate for use in <a
    href= "http://www.iceis.mcnc.org/EDSS/EDSSPage.html#MAQSIP"> MAQSIP</a> or SAQM.   These program read
    all of the component files from the area, point, mobile, and biogenics
    processing stages, and create a single merged output file, <b>EMIS3D</b> or
    <b> EMISC3D</b>. 
    The utility program <a href= "MERGE.html#SMK2SAQM"> SMK2SAQM</a> must be used to
    convert the three-dimensional output file to the format expected by the
    SAQM model.
    
    <p>
    The <b>EMIS3D</b> file can be read by the <a href="http://www.iceis.mcnc.org/EDSS/pave_doc/Pave.html"> PAVE</a>
    visualization package, but the SAQM file cannot.
    
    <p> <b>Two-dimensional air quality modeling inputs merged with other source
    types (UAM)</b><BR> 
  
    The <A HREF = "MERGE.html#CSGMERGE"> CSGMERGE</A> program is similar to the
    programs just described for three-dimensional output, but produces a
    two-dimension (single-layer) emissions output file.  This program reads all of
    the component files from the area, point, mobile, and biogenics processing
    stages, and creates a single merged output file, <b>EMIS2D</b> or
    <b>EMISC2D</b>. This
    program is used for UAM-style processing, which separates the air quality
    emissions input files into two files: an elevated and a non-elevated file. 
    The <A HREF = "MERGE.html#CSGMERGE"> CSGMERGE</A> program creates the
    non-elevated file.  In order to convert the <b>EMIS2D</b> file to the
    'EMISSIONS' file format expected by the UAM, the <a href= "MERGE.html#SMK2EMIS">
    SMK2EMIS</a> utility routine must be used. For more information, refer to
    the documentation for the individual programs and for <A HREF =
    "MERGE.html"> merge</A> processing.
  
    <p> The <b>EMIS2D</b> file can be read by the <a href=
    "http://www.iceis.mcnc.org/EDSS/pave_doc/Pave.html"> PAVE</a> visualization package, as can the output
    from <a href= "MERGE.html#SMK2EMIS"> SMK2EMIS</a>
    
    <p> 
    <b>Elevated point sources air quality modeling inputs (UAM)</b><BR>

    The <a href= "MERGE.html#CSELEV"> CSELEV</a> program is used to merge the hourly
    elevated inventory pollutants emissions file <a href= "#ETMP"> ETMP</a>
    with the speciation matrix <a href= "#PSMAT"> PSMAT</a> and optionally
    the control matrix <a href= "#PCMAT"> PCMAT</a>.  This program creates
    the output file <a href= "MERGE.html#ETS"> ETSC</a>, which is useful only for
    UAM-style processing because it contains only the elevated source
    emissions.  To convert the <a href= "MERGE.html#ETS"> ETSC</a> file to the
    'PTSOURCE' file format expected by the UAM pre-processor PTSRC, the <a
    href= "MERGE.html#SMK2PTS"> SMK2PTS</a> utility routine must be used.  For more
    information, refer to the documentation for the individual programs and for
    <A HREF = "MERGE.html"> merge</A> processing.

    <p> The ETSC file <b> cannot</b> be read by the <a href= 
    "http://www.iceis.mcnc.org/EDSS/pave_doc/Pave.html"> PAVE</a> visualization package, but the output
    from  <a href= "MERGE.html#SMK2PTS"> SMK2PTS</a> can be.  
   
    <p>
    <b>Two-dimensional gridded, (hourly), model species emissions</b><BR>
 
    The <A HREF = "QA.html#CSGPOINT"> CSGPOINT</A> program can be used to generate
    a gridded, model species, optionally hourly, and optionally controlled,
    point-source-only emissions files.   The program reads either the
    inventory file <a href= "#PNTS"> PNTS</a> or the hourly inventory
    pollutants file <a href= "#PTMP"> PTMP</a>, the gridding matrix <a
    href= "#PGMAT"> PGMAT</a>, the speciation matrix <a href= "#PSMAT">
    PSMAT</a>, and optionally the control matrix <a href= "#PCMAT">
    PCMAT</a>.  The outputs from this program can be useful for both analysis
    and quality assurance purposes, but they are not essential to preparing
    emissions inputs for air quality modeling.  Depending on the input files,
    this progam outputs the following files:
    
       <ul>
       <li><b>PGS:</b>  Gridded model species</li>
       <li><b>PGTS:</b> Gridded, hourly, model species</li>
       <li><b>PGSC:</b> Gridded, controlled model species</li>
       <li><b>PGTSC:</b>Gridded, hourly, controlled model species</li>
       </ul>
    
    These files can be read by the <a href="http://www.iceis.mcnc.org/EDSS/pave_doc/Pave.html"> PAVE</a>
    visualization package.

    <p>
    <b>Gridded, (hourly) inventory pollutant emissions</b><BR>
    
    The <A HREF = "QA.html#GRDPOINT"> GRDPOINT</A> program can be used to generate
    a gridded, optionally hourly, inventory pollutant point-source-only
    emissions files.  The program reads either the inventory file <a href=
    "#PNTS"> PNTS</a> or the hourly inventory pollutants file <a href=
    "#PTMP"> PTMP</a>, and the gridding matrix <a href= "#PGMAT">
    PGMAT</a>.  The outputs from this program can be useful for both analysis
    and quality assurance purposes, but they are not essential to preparing
    emissions inputs for air quality modeling.  Depending on the input files,
    this progam outputs the following files:
    
       <ul>
       <li><b>PGRD:</b> Gridded inventory pollutants</li>
       <li><b>PGRT:</b> Gridded, hourly, inventory polluntants</li>
       </ul>    
       
    These files can be read by the <a href="http://www.iceis.mcnc.org/EDSS/pave_doc/Pave.html"> PAVE</a>
    visualization package.
    
    <P> 

    
    <STRONG>Data flow diagrams</STRONG> describing other aspects of
    point source processing (such as the application of various
    combinations of transform matrices for analysis and quality
    assurance are available in
    <A HREF = "figs/POINT.OTHER.ps">Postscript</A>, in
    <A HREF = "figs/POINT.OTHER.gif">GIF</A>, in
    <A HREF = "figs/POINT.OTHER.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.OTHER.jpg">JPEG</A>.
 
<P>
<HR> 

<H2> <A NAME = "programs"> Point Source Programs</A> </H2>

The following list in in alphabetical order:
<UL>
    <LI><b>Primary Programs:</b>

    <UL>

        <LI>  <STRONG><A HREF = "#CTLPMAT"> 
              CTLPMAT</A></STRONG>:  construct point source control matrix file
              <A HREF = "#PCMAT"> PCMAT</A>

        <LI>  <STRONG><A HREF = "#ELEVPOINT"> 
              ELEVPOINT</A></STRONG>:  construct elevated sources list <A HREF = 
              "#PELV"> PELV</A> for cutoff-based plume rise method
               
        <LI>  <STRONG><A HREF = "#EMSPOINT"> 
              EMSPOINT</A></STRONG>: construct point source emissions inventory
              file <A HREF = "#PNTS"> PNTS</A>  for EMS-95 formatted inputs
              
        <LI>  <STRONG><A HREF = "#GRDPMAT"> 
              GRDPMAT</A></STRONG>:  construct point source gridding matrix  
              file <A HREF = "#PGMAT">  PGMAT</A>

        <LI>  <STRONG><A HREF = "#LAYPOINT"> 
              LAYPOINT</A></STRONG>:  construct plume rise layer fractions file
              <A HREF = "#PLAY">  PLAY</A>
              
        <LI>  <STRONG><A HREF = "#PDEMSPT"> 
              PDEMSPT</A></STRONG>: construct point source hour-specific
              emissions inventory file <A HREF = "#PDAY"> PHOUR</A> from
              EMS95- formatted inputs.

        <LI>  <STRONG><A HREF = "#PDPOINT"> 
              PDPOINT</A></STRONG>:  construct point source day-specific or
              hour-specific emissions inventory files <A HREF = "#PDAY">
              PDAY and PHOUR</A> from EPS2.0- formatted inputs
              
        <LI>  <STRONG><A HREF = "#RAWPOINT"> 
              RAWPOINT</A></STRONG>:  construct point source emissions inventory
              file <A HREF = "#PNTS"> PNTS</A> for EPS2.0-formatted inputs
              
        <LI>  <STRONG><A HREF = "#SPCPMAT"> 
              SPCPMAT</A></STRONG>:  construct point source speciation matrix 
              file <A HREF = "#PSMAT">  PSMAT</A>

        <LI>  <STRONG><A HREF = "#TMPPOINT"> 
              TMPPOINT</A></STRONG>:  construct hourly temporally allocated
              point source emissions file <A HREF = "#PTMP"> PTMP</A>
              and optionally the elevated temporally allocated point
              source emissions file <A HREF = "#ETMP">  ETMP</A>

    </UL>
    <LI><b>Quality Assurance Programs (also see Quality Assurance section):</b>
    <UL>
        <LI>  <STRONG><A HREF = "MERGE.html#CSELEV"> 
              CSELEV</A></STRONG>:  construct point source elevated,
              speciated, hourly, (optionally) controlled emissions file
              <A HREF = "MERGE.html#ETS"> ETS or ETSC</A>
               
        <LI>  <STRONG><A HREF = "QA.html#CSGPOINT"> 
              CSGPOINT</A></STRONG>:  construct point source
              gridded, speciated, (optionally) hourly, (optionally) controlled 
              emissions file <A HREF = "QA.html#PGTS"> PGTS or PGTSC</A>
              
        <LI>  <STRONG><A HREF = "QA.html#GRDPOINT"> 
              GRDPOINT</A></STRONG>:  construct point source gridded, 
              (optionally) hourly, inventory pollutant emissions file 
              <A HREF = "QA.html#PGRD"> PGRD</A>
    </UL>
              
    <LI><b>Related Merge Programs (also see Merge section):</b>
    <LI><b>Utilities and Preprocessors (also see Utilities section):</b>
</UL>


<P>
<HR> 

<H2> <a name="CTLPMAT"> CTLPMAT </a></H2>
<table >
<tr>
<td><A HREF = "#CTLPMAT_DESC"> Description</A>
<td><A HREF = "#CTLPMAT_PRORD"> Processing Order</A>
<td><A HREF = "#CTLPMAT_INFIL"> Input Files</A>
<td><A HREF = "#CTLPMAT_INPAR"> Input Params</A>
<td><A HREF = "#CTLPMAT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#CTLPMAT_OUTFIL"> Output Files</A>
<td><A HREF = "#CTLPMAT_INCL"> Include File Params</A>
<td><A HREF = "#CTLPMAT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#CTLPMAT_BUGS"> Known Bugs</A>
<td><A HREF = "#CTLPMAT_USAGE"> Usage</A>
</table>

<H3><A NAME = "CTLPMAT_DESC"> Description </A></H3>

    <b>Overview.</b> The program CTLPMAT uses EPS2.0 control factors files to
    construct a point source control matrix.  It can be used to create a
    projection matrix, a control matrix, or a combination of projection and
    controls.  At the current time, the merge processing steps do not use more
    than one control matrix, so all projections and controls for a given
    scenario must be put into this single matrix.<p>

    <b>Control Packets.</b> There are significant differences between CTLPMAT
    and the UAM EPS2.0 CNTLEM program in what types of control packets are
    supported and to some extent how the controls are interpreted.  These
    differences are documented in the section on <A HREF =
    "EPSDIFS.html#control"> differences between SMOKE and EPS2.0.</A> <p>
    
    <b>Multiple year to year projections.</b> In addition to the /PROJECT PTS/
    packet support by EPS2.0, SMOKE can use a /PROJECT PTS &lt;inventory
    year&gt; &lt;destination year&gt;/ packet.  This packet is needed if the <a
    href= "#PNTS"> PNTS</a> inventory file has inventory records from more than
    one year. Using a series of these packets, inventory records from different
    inventory years can be projected to a single modeling year.<p>

<H3><A NAME = "CTLPMAT_PRORD"> Processing Order</A></H3>

    The CTLPMAT program must be run after <a href= "#RAWPOINT"> RAWPOINT</a> or
    <a href= "#EMSPOINT"> EMSPOINT</a>. The following <b>data flow diagram</b>
    provides a conceptual overview of using CTLPMAT. <p>

    <img align=center src="figs/POINT.CTL.gif" ALT="Point control diagram"><p>

    A similar diagram is also available in 
    <A HREF = "figs/POINT.CTL.ps">Postscript</A>, in
    <A HREF = "figs/POINT.CTL.gif">GIF</A>, in
    <A HREF = "figs/POINT.CTL.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.CTL.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "CTLPMAT_INFIL"> Input Files</A></H3>
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li> <A HREF = "#PCTRL"> PCTRL</A> (ASCII):  EPS2.0- formatted
        control factors input file
        <li> <em><A HREF = "#PCTRACK"> PCTRACK</a></em> (ASCII): Optional list
        of sources for which control application tracking will be performed
        </ul>


<H3><A NAME = "CTLPMAT_INPAR"> Input Parameters</A></H3>

   <ul> <li> NONE </ul>

<H3><A NAME = "CTLPMAT_INENV"> Input Environment Variables</A></H3>

     <ul>
     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.
     </ul>

<H3><A NAME = "CTLPMAT_OUTFIL"> Output Files</A></H3>
        <ul>
        
	<li><A HREF = "#PCMAT"> PCMAT</A> (NetCDF): Control and Projection
	matrix, used by  <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>, and/or <a
	href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a>, and/or <a href=
	"MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a>, and optionally by  <em><a
	href="QA.html#CSGPOINT"> CSGPOINT</a> </em>
	<li><em> <A HREF = "#PCREPT"> PCREPT</A></em> (ASCII): Optional
	output report of controls applied for sources listed in  <em><A HREF =
	"#PCTRACK"> PCTRACK</a></em> file, or for all sources
        
        </ul>

<H3><A NAME = "CTLPMAT_INCL"> Include file parameters</A></H3>
The following include files are used by CTLPMAT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.

    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
       <ul>
       <li><b>NPFIP</b>: Maximum number of FIPS codes
       <li><b>NPSID</b>: Maximum number of state IDs
       <li><b>NPSRC</b>: Number of point sources
       </ul>
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
        speciation parameters
       <ul>
       <li><b>NIPOL</b>: Number of inventory pollutants
       </ul>
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function decl
arations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file descripti
on data structures.
    <li>Paramater in CTLPMAT source code (ctlpmat.F):
       <ul>
       <li><b>MAXPKT</b>: Maximum number of control packets
       </ul>
    </ul>

<H3><A NAME = "CTLPMAT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Additional types of controls
    <li>Run-time variable dimensioning
    <li>Repair of allowable packet
    <li>Ability to specify alpha-numeric plant and stack IDs in the input 
        control packets
    <li>Additional control packets
    </ul>
    
<H3><A NAME = "CTLPMAT_BUGS"> Known Bugs</A></H3>
    <ul> <li>The /ALLOWABLE/ packet does not work as described in the EPS2.0
             documentation, and does not allow replacement or cap emissions
             to be set.  See the <A HREF = "#PCTRL"> PCTRL</A>
             file desscription for more information.
    </ul>

<H3><A NAME = "CTLPMAT_USAGE"> Usage</A></H3>
    The script below runs CTLPMAT; with tracking turned on:
    the program reports control applicability in priority order from
    lowest priority to hightest priority, for the list of sources
    described in the TRACK file.

<p>
<PRE>
#
#  setenvs for logical file names:
#
setenv PNTS  &lt;path-name for point source annual inventory file&gt;
setenv PCTRL &lt;path-name for point source ASCII controls file&gt;
setenv PCREPT &lt;path-name for controls-report file&gt;
setenv PCTRACK &lt;path-name for tracking list file&gt;
setenv PCMAT &lt;path-name for control matrix file&gt;
#
#  Now run the program:
#
ctlpmat  &lt;&lt; EOF
Yes, continue with the program
PNTS                    !  point source annual inventory file
PCTRL                   !  ASCII controls file
PCREPT                  !  report file, or &quot;NONE&quot;
PCTRACK                 !  tracking list, or &quot;NONE&quot; or &quot;ALL&quot;
PCMAT                   !  control matrix logical name, or &quot;NONE&quot;
EOF
#
#  done
#
</PRE>

    Alternatively, the script below runs &quot;ctlpmat&quot; with
    tracking turned off. <p>
<PRE>
#
#  setenvs for logical file names:
#
setenv PNTS  &lt;path-name for point source annual inventory file&gt;
setenv PCTRL &lt;path-name for point source ASCII controls file&gt;
setenv PCMAT &lt;path-name for control matrix file&gt;
#
#  run the program with tracking/reporting turned off:
#
ctlpmat  &lt;&lt; EOF
Yes, continue with the program
PNTS                    !  point source annual inventory file
PCTRL                   !  ASCII controls file
NONE
PCMAT                   !  control matrix logical name, or &quot;NONE&quot;
EOF
</PRE>


<HR>
<H2> <a name="ELEVPOINT"> ELEVPOINT </a></H2>
<table >
<tr>
<td><A HREF = "#ELEVPOINT_DESC"> Description </A>
<td><A HREF = "#ELEVPOINT_PRORD"> Processing Order</A>
<td><A HREF = "#ELEVPOINT_INFIL"> Input Files</A>
<td><A HREF = "#ELEVPOINT_INPAR"> Input Params</A>
<td><A HREF = "#ELEVPOINT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#ELEVPOINT_OUTFIL"> Output Files</A>
<td><A HREF = "#ELEVPOINT_INCL"> Include File Params</A>
<td><A HREF = "#ELEVPOINT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#ELEVPOINT_BUGS"> Known Bugs</A>
<td><A HREF = "#ELEVPOINT_USAGE"> Usage</A>
</table>

<H3><A NAME = "ELEVPOINT_DESC"> Description</A></H3>

    <b>Overview.</b> The ELEVPOINT program uses the stack parameters of the
    point sources and estimates the plume rise for each source using an the
    Briggs analytical solution (but not the actual meteorology data).   It then
    records all of the sources that have an estimated plume rise that is
    greater than a run-time defined cutoff.<p>

    <b>Plume rise calculation.</b> The Briggs solution is documented in the
    following:
       <ol>
       <li>Briggs, Gary A., 1971: Some Recent Analyses of Plume Rise
       Observation pp 1029 - 1032 in <em>Proceedings of the Second
       International Clean Air Congress</em>, edited by H. M. Englun and W. T.
       Beery. Academic Press, New York.
       <li>Briggs, Gary A., 1972: Discussion on Chimney Plumes in Neutral and
       Stable Surroundings. <em>Atmos. Environ</em>. 6, 507 - 510. (Jul 72).
       </ol> 

    The following formula is used in ELEVPOINT:<p>
    <PRE>
          F = 0.25 * G * V * D**2 * (TS - T)/TS
    </PRE>
    For F less than 55,
     
    <PRE>
          DISTF = 21.31311057 * F**0.75 / U
    </PRE>
          
    Otherwise,
    
    <PRE>
          DISTF = 38.87776061 * F**0.6 / U
    </PRE>
    
    And finally,
    
    <PRE>
          PLUMERIS = H + DISTF
    </PRE>
          
    Where,
       <ul>
       <li> D = Stack diameter (m)
       <li> G = Mean gravitational acceleration (9.80665 m/s**2)
       <li> H = Stack height (m)
       <li> T = Stack temperature (deg K)
       <li> TS = Standard temperature (deg K) 
       <li> U = Default wind speed  (m/s)
       <li> V = Stack exit velocity (m/s**2)
       </ul>
       
    Also, the constants and variables use the following standard parameters:
       <ul>
       <li> Standard temperature = 293 deg K
       <li> Standard pressure    = 960 mb
       <li> Default wind speed   = 2 m/s
       <li> Pasquill stability KST = 2
       </ul>        
       
    The algorithm has been improved from the original so that the discontiuity
    at F equals 55 no longer exists.  Now, DISTF approachs 595 as F approachs
    55 from either side.<p>
    
<H3><A NAME = "ELEVPOINT_PRORD"> Processing Order</A></H3>

    The ELEVPOINT program is used only for <a href= "cutoff"> cutoff</a> style
    processing, and when used, must be run after <a href= "#RAWPOINT">
    RAWPOINT</a> and before <a href= "#TMPPOINT"> TMPPOINT</a>.
    The following <b>data flow diagram</b> provides a conceptual overview
    of using ELEVPOINT. <p>

    <img align=center src="" ALT="Cutoff style elevated sources diagram"><p>

    A similar diagram is also available in 
    <A HREF = "figs/POINT.TMP.ps">Postscript</A>, in
    <A HREF = "figs/POINT.TMP.gif">GIF</A>, in
    <A HREF = "figs/POINT.TMP.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.TMP.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "ELEVPOINT_INFIL"> Input Files</A></H3>
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        </ul>

<H3><A NAME = "ELEVPOINT_INPAR"> Input Parameters</A></H3>

     <ul>
     
     <li><b>Plume rise cutoff:</b> Enter minimum cutoff for elevated plume rise
     (meters)
    
     </ul>

<H3><A NAME = "ELEVPOINT_INENV"> Input Environment Variables</A></H3>

     <ul>
     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.
     </ul>

<H3><A NAME = "ELEVPOINT_OUTFIL"> Output Files</A></H3>
        <ul>
        <li><A HREF = "#PELV"> PELV</A> (ASCII): Elevated source
        list,  used optionally by the <a href= "#TMPPOINT"> TMPPOINT</a> 
        program
        </ul>

<H3><A NAME = "ELEVPOINT_INCL"> Include file parameters</A></H3>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, ELEVPOINT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>

    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
        <ul>
        <li><b>NPSRC</b>: Number of point sources
        </ul>
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
declarations
    </ul>

<H3><A NAME = "ELEVPOINT_UPCOM"> Upcoming Features</A></H3>
   <ul>
   <li> Run-time variable dimensioning
   </ul>
   
<H3><A NAME = "ELEVPOINT_BUGS"> Known Bugs</A></H3>
   <ul>
   <li> No known bugs at this time
   </ul>
   
<H3><A NAME = "ELEVPOINT_USAGE"> Usage</A></H3>
<p>
<PRE>
#
#   set up environment variables (logical names) of input files:
#
setenv PNTS   &lt;path-name for SMOKE point source inventory file&gt;
setenv PELV   &lt;path-name for ASCII elevated sources list file&gt;
#
#
# now run the program:
#
elevpoint &lt;&lt;  EOF
Yes, continue with the program
PNTS			! SMOKE point source file
PELV			! elevated sources file
50.0                    ! plume rise cutoff for elevated sources
EOF
#
#         done
#
</PRE>
<P> 

<hr>

<H2> <a name="EMSPOINT"> EMSPOINT </a></H2>
<table >
<tr>
<td><A HREF = "#EMSPOINT_DESC"> Description</A>
<td><A HREF = "#EMSPOINT_PRORD"> Processing Order</A>
<td><A HREF = "#EMSPOINT_INFIL"> Input Files</A>
<td><A HREF = "#EMSPOINT_INPAR"> Input Params</A>
<td><A HREF = "#EMSPOINT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#EMSPOINT_OUTFIL"> Output Files</A>
<td><A HREF = "#EMSPOINT_INCL"> Include File Params</A>
<td><A HREF = "#EMSPOINT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#EMSPOINT_BUGS"> Known Bugs</A>
<td><A HREF = "#EMSPOINT_USAGE"> Usage</A>
</table>

<H3><A NAME = "EMSPOINT_DESC"> Description</A></H3>

    <b>Overview.</b> Program EMSPOINT inputs EMS-95- formatted point
    source inventory emissions files and creates a sorted list of point sources,
    called the "emissions source attributes database" or the "SMOKE inventory"
    file.  Each entry in this file is an <a href= "#sources"> point source</a>,
    and has associated emissions.<p>
    
    <b> Multiple input files.</b> The program can read source data from many
    individual emissions inventory files by using a special input file, <a
    href= "#PNLST"> PNLST</a>.  This file is also used to set the inventory
    year for each of the individual input files (see section on PNLST for more
    information). SMOKE also permits data multiple inventory years to be in the
    same SMOKE inventory file, because the projection step permits the user to
    project from multiple inventory years to a single modeling year with the
    same projection matrix.<p>
    
    <b>Input format.</b> The program reads in the five EMS-95 point source
    files: <b> device.pt</b>, <b> emission.pt</b>, <b> facility.pt</b>, 
    <b> process.pt</b>, <b> stack.pt</b>.<p>
    
    <b>Number of sources.</b> If the program has not been compiled for the
    correct number of point sources, NPSRC (see include parameters section
    below), then it will count the correct number of sources to use, and
    report this number. No output file will be written.  All point source
    programs should be recompiled when the number of sources is changed in the
    include file.<p>
    
    <b>Missing and incorrect stack parameters.</b>  RAWPOINT checks the stack
    parameters in two ways.  First, it bounds all those parameters that are
    outside the bounding stack parameter values in the <a href=
    "INCLUDES.html#ptdims"> PTDIMS3.EXT</a> include file, but it does not
    convert missing and zero parameters to the minimum.  Second, it converts all
    missing and zero stack parameters to the default values that are in the <a
    href= "#PSTK"> PSTK</a> file.<p>

<H3><A NAME = "EMSPOINT_PRORD"> Processing Order</A></H3>

    The program EMSPOINT needs only to be run if the user is starting with
    EMS-95- formatted emissions data, and in this case, EMSPOINT must be run
    first.  The following <b>data flow diagram</b> provides a conceptual
    overview of using EMSPOINT. <p>

    <img align=center src="" alt="Point EMS-95 data import diagram"><p>

<H3><A NAME = "EMSPOINT_INFIL"> Input Files</A></H3>
        <ul> 

	<li> <A HREF= "#PNLST"> PNLST</A> (ASCII): Contains a list of
	all of the EMS95- formatted point source input files (they must be in a
	specific order - <b>see notes below</b>)
	<li> <A HREF = "#PSTK"> PSTK</A> (ASCII):  Replacement values of
        missing stack parameters
        <li> <A HREF = "MERGE.html#ZONES">ZONES</A> (ASCII): Time-zone cross reference
        file (per state/county)
        <li> <a href="MERGE.html#GRIDDESC"> GRIDDESC</a> (ASCII): Parameters describing
        grid and grid projection (of Earth's surface to the plane of the grid)

        </ul> 
<H3><A NAME = "EMSPOINT_INPAR"> Input Parameters</A></H3>

        <ul><li>NONE</ul>

<H3><A NAME = "EMSPOINT_INENV"> Input Environment Variables</A></H3>

        <ul>
        
     <li><b>RAW_SRC_CHECK</b>: If this environment variable is set to 'Y', the
     program will abort if all sources do not have records for all inventory
     pollutants.  If not set to 'Y', emissions for missing pollutant emissions
     will be set to zero.
     
        <li><b>VELOC_RECALC</b>: If this environment variable is set to 'Y', the
        program will recalculate the stack exhaust velocities based on the flow,
        where the flow is defined in the input files.  Otherwise, the flows are
        calculated based on the velocities.   All calculations assume that the
        cross-section area at the top of the stack (based on the stack diameter)
        can be used in the conversion.

        <li><b>LOGFILE</b>: If this environment variable is defined as a valid
        physical file name, the program's
        errors, warnings, notes, and other information will be recorded in this
        file. Otherwise, that information will be written to standard output.<p>

        </ul>

<H3><A NAME = "EMSPOINT_OUTFIL"> Output Files</A></H3>
        <ul>
        
	<li> <a href= "#PNTS"> PNTS</a> (NetCDF): Sorted list of point
	sources , called the "emissions source attributes database" or the
	"SMOKE inventory" file.  This file contains the codes (FIPS, SCC, etc.)
	identifying each source and the annual inventory pollutant totals. It
	is used by the <a href= "#GRDPMAT"> GRDPMAT</a>, <a href=
	"#SPCPMAT"> SPCPMAT</a>,  <a href= "#TMPPOINT"> TMPPOINT</a>,
	and <a href= "#CTLPMAT"> CTLPMAT</a> programs.  It is also
	potentially used by the <a href= "#PDPOINT"> PDPOINT</a>, <a href=
	"#LAYPOINT"> LAYPOINT</a>, and <a href= "#ELEVPOINT">
	ELEVPOINT</a> programs. 
	<li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes 
	appearing in the inventory.  It is used by the <a
	href="#TMPPOINT"> TMPPOINT</a> and <a href="#SPCPMAT"> 
	SPCPMAT</a> programs.
	<li><a href= "#PSRC"> PSRC</a> (ASCII): List of sources with the
	SMOKE plant and stack integer IDs, and the EMS-95 alpha-numeric IDs
	<li><a href= "#PTREF"> PTREF</a> (ASCII): Temporal cross-reference
	file, used by the <a href="#TMPPOINT"> TMPPOINT</a> program.

        </ul>
<H3><A NAME = "EMSPOINT_INCL"> Include file parameters</A></H3>
The following include files are used by EMSPOINT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.

In case the dimensioning for the matrix or for internal work arrays is
insufficient, EMSPOINT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>

    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
       <ul>
       <li><b>NPFIP</b>: Maximum number of FIPs codes
       <li><b>NPDMAX</b>: Maximum number of recs in EMS95 device.pt file
       <li><b>NPEMAX</b>: Maximum number of recs in EMS95 emisison.pt file
       <li><b>NPFMAX</b>: Maximum number of recs in EMS95 facility.pt file
       <li><b>NPPMAX</b>: Maximum number of recs in EMS95 process.pt file
       <li><b>NPSID</b>: Maximum number of state IDs
       <li><b>NPSMAX</b>: Maximum number of recs in EMS95 stack.pt file
       <li><b>NPSRC</b>: Actual number of point sources
       </ul>
    <li><a href= "INCLUDES.html#grdims"> GRDIMS3.EXT</a>: grid parameters
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
        speciation parameters
       <ul>
       <li><b>NIPOL</b>: Number of inventory pollutants
       </ul>
    <li><a href= "INCLUDES.html#tmdims"> TMDIMS3.EXT</a>: Temporal allocation
    dimensioning parameters
    <li><a href= "INCLUDES.html#const3"> CONST3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file description data structures.
    </ul>

<H3><A NAME = "EMSPOINT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Run-time variable dimensioning
    <li>All stack paramaters to be stored in Lat-Lon coordinates regardless of
    input and output grid projections
    </ul>
        
<H3><A NAME = "EMSPOINT_BUGS"> Known Bugs</A></H3>
    <ul> <li> No bugs known at this time
    </ul>
    
<H3><A NAME = "EMSPOINT_USAGE"> Usage</A></H3>

<PRE>
#
#   set up environment variables (logical names) of input files:
#
setenv PNLST    &lt;path-name for list of EMS-95 input files&gt;
setenv PSTK     &lt;path-name for replacement values of missing stack
                                  parameters&gt;
setenv ZONES    &lt;path-name for time zones cross- reference file&gt;
setenv PSCC     &lt;path-name for list of unique SCC codes in inventory&gt;
setenv PTREF    &lt;path-name for output temporal cross-reference file&gt;
setenv PSRC     &lt;path-name for list of EMS-95 facility/stack codes and SMOKE
                                  plant and stack codes&gt;
setenv PNTS     &lt;path-name for SMOKE point source inventory file&gt;
#
# now run the program:
#
emspoint &lt;&lt;  EOF
Yes, continue with the program
PNLST                   ! List of EMS-95 input files
PSTK                    ! Replacement values of missing stack parameters 
ZONES                   ! Time zones cross- reference file                    
PSCC                    ! Output list of unique SCC codes in inventory
PTREF                   ! Output temporal cross- reference file
PSRC                    ! Output source facility/stack file
PNTS                    ! Output SMOKE point source inventory file
EOF
#
</PRE><P> 


<HR>
<H2> <a name="GRDPMAT"> GRDPMAT </a></H2>
<table >
<tr>
<td><A HREF = "#GRDPMAT_DESC"> Description</A>
<td><A HREF = "#GRDPMAT_PRORD"> Processing Order</A>
<td><A HREF = "#GRDPMAT_INFIL"> Input Files</A>
<td><A HREF = "#GRDPMAT_INPAR"> Input Params</A>
<td><A HREF = "#GRDPMAT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#GRDPMAT_OUTFIL"> Output Files</A>
<td><A HREF = "#GRDPMAT_INCL"> Include File Params</A>
<td><A HREF = "#GRDPMAT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#GRDPMAT_BUGS"> Known Bugs</A>
<td><A HREF = "#GRDPMAT_USAGE"> Usage</A>
</table>

<H3><A NAME = "GRDPMAT_DESC"> Description</A></H3>

    <b>Overview.</b> The GRDPMAT program constructs a gridding matrix, which is
    used to transform source-based records to gridded records.  This program
    also reports the total number of coefficients in the gridding 
    transform matrix, and the maximum, minimum, and mean numbers of
    sources per cell.  It can be run with output file logical name set
    to &quot;NONE&quot;, in order to get only these statistics. <p>
    
    <b>Gridding by coordinates.</b> All sources are allocated to grid cells
    based on their stack coordinates.<p>
    
<H3><A NAME = "GRDPMAT_PRORD"> Processing Order</A></H3>

    GRDPMAT must be run after <a href= "#RAWPOINT"> RAWPOINT</a> or <a href=
    "#EMSPOINT"> EMSPOINT</a>.  The following <b>data flow diagram</b> provides
    a conceptual overview of using GRDPMAT. <p>

    <img align=center src="figs/POINT.GRD.gif" alt="Point sources gridding diagram"><p>

    A similar diagram is available in 
    <A HREF = "figs/POINT.GRD.ps">Postscript</A>, in
    <A HREF = "figs/POINT.GRD.gif">GIF</A>, in
    <A HREF = "figs/POINT.GRD.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.GRD.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "GRDPMAT_INFIL"> Input Files</A></H3>
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li> <a href= "MERGE.html#GRIDDESC"> GRIDDESC</a> (ASCII): Parameters describing grid and grid projection (of Earth's surface to
          the plane of the grid)

        </ul>

<H3><A NAME = "GRDPMAT_INPAR"> Input Parameters</A></H3>
  <ul> <li>NONE</ul>

<H3><A NAME = "GRDPMAT_INENV"> Input Environment Variables</A></H3>
     <ul>
     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.<p>
     </ul>

<H3><A NAME = "GRDPMAT_OUTFIL"> Output Files</A></H3>
        <ul>
        
	<li><A HREF = "#PGMAT"> PGMAT</A> (NetCDF): Gridding matrix, used
	by  <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>, and/or <a href=
	"MERGE.html#CSGLMERGE"> CSGLMERGE</a>, and/or <a href= "MERGE.html#CSGLDAYMRG">
	CSGLDAYMRG</a>, and optionally by <em> <a href="QA.html#CSGPOINT">
	CSGPOINT</a> </em> and/or <em> <a href="QA.html#GRDPOINT"> GRDPOINT</a>
	</em>
        
        </ul>

<H3><A NAME = "GRDPMAT_INCL"> Include file parameters</A></H3>
The following include files are used by GRDPMAT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.<p>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, GRDPMAT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>

    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
       <ul>
       <li><b>NPSRC</b>: Actual number of point sources
       </ul>
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
        speciation parameters
    <li><a href= "INCLUDES.html#grdims"> GRDIMS3.EXT</a>: grid parameters
       <ul>
       <li> <b>NGRID</b>: the number of cells in the grid
       <li> <b>GRDNM</b>: The name of the grid being used, as defined in the
       <a href= "MERGE.html#GRIDDESC"> GRIDDESC</a> file.
       </ul>
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file
description data structures.
    </ul>

<H3><A NAME = "GRDPMAT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Run-time variable dimensioning
    </ul>

<H3><A NAME = "GRDPMAT_BUGS"> Known Bugs</A></H3>
    <ul><li>No bugs known at this time
    </ul>
    
<H3><A NAME = "GRDPMAT_USAGE"> Usage</A></H3>
<p>

<PRE>
#
#  setenvs for logical file names:
#
setenv PNTS  &lt;path-name for SMOKE point source annual inventory file&gt;
setenv PGMAT &lt;path-name for SMOKE gridding matrix file&gt;
#
#  Now run the program:
#
grdpmat  &lt;&lt; EOF
Yes, continue with the program
PNTS                    !  point source annual inventory file
PGMAT                   !  gridding matrix logical name, or &quot;NONE&quot;
EOF
#
#  done
#
</PRE>

<HR>
<H2> <a name="LAYPOINT"> LAYPOINT </a></H2>
<table >
<tr>
<td><A HREF = "#LAYPOINT_DESC"> Description</A>
<td><A HREF = "#LAYPOINT_PRORD"> Processing Order</A>
<td><A HREF = "#LAYPOINT_INFIL"> Input Files</A>
<td><A HREF = "#LAYPOINT_INPAR"> Input Params</A>
<td><A HREF = "#LAYPOINT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#LAYPOINT_OUTFIL"> Output Files</A>
<td><A HREF = "#LAYPOINT_INCL"> Include File Params</A>
<td><A HREF = "#LAYPOINT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#LAYPOINT_BUGS"> Known Bugs</A>
<td><A HREF = "#LAYPOINT_USAGE"> Usage</A>
</table>

<H3><A NAME = "LAYPOINT_DESC"> Description</A></H3>

    Uses the SMOKE point sources inventory file with gridded and hourly
    meteorology data to compute hourly plume rise for all point sources.
    The plume rise is expressed in terms of layer fractions for each source and
    each later.  For more information on the layer-fraction method of plume
    rise, please refer to the section on <a href= "#layFracs"> layer
    fractions</a>.


<H3><A NAME = "LAYPOINT_PRORD"> Processing Order</A></H3>

    The following <b>data flow diagram</b> provides a conceptual overview
    of using LAYPOINT. <p>

    <img align=center src="figs/LAYfigs/POINT.gif" alt="Layer fractions elevated
    sources diagram"><p>

    A similar diagram is also available in
    <A HREF = "figs/LAYfigs/POINT.ps">Postscript</A>, in
    <A HREF = "figs/LAYfigs/POINT.gif">GIF</A>, in
    <A HREF = "figs/LAYfigs/POINT.xbm">X bitmap</A>, and in
    <A HREF = "figs/LAYfigs/POINT.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "LAYPOINT_INFIL"> Input Files</A></H3>
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li><A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#GRID_CRO_3D"> 
            LAYGRD</A>, 
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#GRID_CRO_2D"> 
            SFCGRD</A>, 
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#MET_CRO_3D"> 
            LAYCRO</A>, 
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#MET_CRO_2D"> 
            SFCCRO</A>, and
            <A HREF = "http://www.iceis.mcnc.org/EDSS/MCIP/FILES.html#MET_DOT_3D"> 
            METDOT</A> (All NetCDF):  <a href=
            "http://www.iceis.mcnc.org/EDSS/EDSSPage.html#MAQSIP"> MAQSIP</a> meteorology files
        </ul>

<H3><A NAME = "LAYPOINT_INPAR"> Input Parameters</A></H3>
     <ul>

     <li><b>Simulation starting date:</b> The starting date for the simulation
(YYYYDDD)|(YYYYMMDD).  Default is set by the starting time of the meteorology.
     <li><b>Starting time:</b> The starting time for the simulation (HHMMSS).
     Default is set by the starting time of the meteorology.
     <li><b>Output duration:</b> The number of hours in the simulation. 
     Default is set by the number of hours in the meteorology.
     </ul>

<H3><A NAME = "LAYPOINT_INENV"> Input Environment Variables</A></H3>
     <ul>
     <LI><B>REP_LAYER_MAX</B>: When this environment variable is set to a valid
     layer number, details about sources that have plumerise into layers 
     greater than the value of REP_LAYER_MAX are reported in the optional file 
     REPRTLAY.
     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.<p>
 
     </ul>

<H3><A NAME = "LAYPOINT_OUTFIL"> Output Files</A></H3>
        <ul>
        <li><A HREF = "#PLAY"> PLAY</A> (NetCDF): Hourly layer fractions for each
              source, used by the merge
              programs <a href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a> and <a href=
              "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a> to create three-dimensional emissions
              files
        <LI><A HREF="#REPRTLAY">REPRTLAY</A> (ASCII): 
        Report of source characteristics and 
        meteorological conditions for hours and sources that have plume rise
        into layers greater than the value of the environment variable 
        REP_LAYER_MAX.  This file is written only if REP_LAYER_MAX is defined.
        </ul>

<H3><A NAME = "LAYPOINT_INCL"> Include file parameters</A></H3>

The following include files are used by LAYPOINT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.<p>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, LAYPOINT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>

    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
        <ul>
        <li><b>NPSRC</b>: Actual number of point sources
        </ul>
    <li><a href= "INCLUDES.html#tmdims"> TMDIMS3.EXT</a>: Temporal allocation
    dimensioning parameters
    <li><a href= "INCLUDES.html#grdims"> GRDIMS3.EXT</a>: grid parameters
        <ul>
        <li><b>NGRID</b>: The number of cells in the grid
        </ul>
       
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file
description data structures.
    <li><a href= "INCLUDES.html#const3"> CONST3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#vgrd3">  VGRD3.EXT</a>:  I/O API file
vertical allocation parameters
        <ul>
        <li><b>EMLAYS</b>: Number of emissions layers.
        <li><b>NLAYS</b>: Number of model/meteorology layers.
        </ul>
    </ul>

<H3><A NAME = "LAYPOINT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Run-time variable dimensioning
    </ul>
    
<H3><A NAME = "LAYPOINT_BUGS"> Known Bugs</A></H3>
<ul> <li>No known bugs at this time</ul>

<H3><A NAME = "LAYPOINT_USAGE"> Usage</A></H3>

<PRE>
#
#  setenvs for logical file names:
#
setenv PNTS         &lt;path-name for SMOKE point source annual inventory file&gt;
setenv PLAY         &lt;path-name for SMOKE plume rise layer fractions file&gt;
setenv METDOT       &lt;path-name for M3/EDSS met file&gt;
setenv SFCCRO       &lt;path-name for M3/EDSS met file&gt;
setenv LAYCRO       &lt;path-name for M3/EDSS met file&gt;
setenv SFCGRD       &lt;path-name for M3/EDSS time-independent file&gt;
setenv LAYGRD       &lt;path-name for M3/EDSS time-independent file&gt;
#
#  Now run the program:
#
laypoint &lt;&lt; EOF
Yes, continue with the program
PNTS                    !  point source annual inventory file
METDOT                  !  met file
SFCCRO                  !  met file
LAYCRO                  !  met file
SFCGRD                  !  time-independent file
LAYGRD                  !  time-independent file
1988200                 !  Julian starting date YYYYDDD | YYYYMMDD
000000                  !  starting time        HHMMSS
24                      !  duration
PLAY                    !  plume rise layer fractions logical name
EOF
#
#  done
#
</PRE>

<HR>
<H2> <a name="PDEMSPT"> PDEMSPT </a></H2>
<table >
<tr>
<td><A HREF = "#PDEMSPT_DESC"> Description</A>
<td><A HREF = "#PDEMSPT_PRORD"> Processing Order</A>
<td><A HREF = "#PDEMSPT_INFIL"> Input Files</A>
<td><A HREF = "#PDEMSPT_INPAR"> Input Params</A>
<td><A HREF = "#PDEMSPT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#PDEMSPT_OUTFIL"> Output Files</A>
<td><A HREF = "#PDEMSPT_INCL"> Include File Params</A>
<td><A HREF = "#PDEMSPT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#PDEMSPT_BUGS"> Known Bugs</A>
<td><A HREF = "#PDEMSPT_USAGE"> Usage</A>
</table>

<H3><A NAME = "PDEMSPT_DESC"> Description</A></H3>

    <b>Overview.</b> Program PDEMSPT reads the EMS-95- formatted hour-specific
    point source inventory files. Running the program is optional:  it is not
    necessary to use this program if no hour- specific data are used in the
    modeling, or if only EPS2.0- formatted hour- specific data are used.  The
    resulting output file contains the hour- specific emissions, but not
    any other source characteristics, as these are contained only in the  SMOKE
    inventory file, <A HREF = "#PNTS"> PNTS </A>.<p>

    <b>Default input parameters.</b> Default responses for starting date, time,
    and duration are created by checking all of the data provided at input and
    converting to the user- specified output time zone.<p>

    <b>Order of records on input.</b> Unlike the input files to the <a href=
    "#PDPOINT"> PDPOINT</a> program, the hourly inputs here <b>do not</b> need to
    be sorted in chronological order.<p>

    <b>Inventory issues.</b> The presence of missing data in the hour- specific
    data file is handled differently depending on the value of the
    RAW_SRC_CHECK environment variable.  The default behavior (and when
    RAW_SRC_CHECK is set to 'N'), is to set the emissions to zero for periods
    and pollutants in which the emissions are missing from the input file.  If
    the RAW_SRC_CHECK environment variable is set to 'Y', then the inventory
    preparer <STRONG>must make sure </STRONG> that hour-specific records are
    present for <STRONG>every</STRONG> hour between the earliest and latest
    hours in the inputs (even if this requires padding the input file(s)
    with zero-emissions records).  When  RAW_SRC_CHECK is set to 'Y', the 
    program will abort if any records are missing. <p>

    <b>Construction of future-year scenarios.</b> Note that EDSS/Models-3 I/O
    API <A HREF = "http://www.iceis.mcnc.org/EDSS/ioapi/H.M3TSHIFT.html">
    utility program M3TSHIFT</A> can be used to copy data from one time period
    to another (e.g., to read a July 1988 PHOUR file and use its contents to
    construct a new June 2005 PHOUR file).<p>
    
<H3><A NAME = "PDEMSPT_PRORD"> Processing Order</A></H3>

    Program PDEMSPT must be run after the <a href= "#EMSPOINT"> EMSPOINT</a>
    program, and before the <a href= "#TMPPOINT"> TMPPOINT</a> program.  The
    following <b>data flow diagram</b> provides a conceptual overview of using
    PDEMSPT. <p>

    <img align=center src="POINT.PDE.gif" alt="Hour specific EMS-95 raw data import
    diagram"><p>

    A similar diagram is also available in 
    <A HREF = "POINT.PDE.ps">Postscript</A>, in
    <A HREF = "POINT.PDE.gif">GIF</A>, in
    <A HREF = "POINT.PDE.xbm">X bitmap</A>, and in
    <A HREF = "POINT.PDE.jpg">JPEG</A>; <br> and diagrams describing how PDEMSPT
    fits into temporal modeling for point sources are available in 
    <A HREF = "figs/POINT.TMP.ps">Postscript</A>, in
    <A HREF = "figs/POINT.TMP.gif">GIF</A>, in
    <A HREF = "figs/POINT.TMP.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.TMP.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "PDEMSPT_INFIL"> Input Files</A></H3>

        <ul>
        <li><A HREF= "#PHLST"> PHLST</a> (ASCII): Contains a list of
	all of the EMS95- formatted point source input files (they must be in a
	specific order - <b>see notes below</b>)
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from 
        the <A HREF= "#EMSPOINT"> EMSPOINT</A> program
	<li><A HREF= "#PSRC"> PSRC</a> List of sources with the
	SMOKE plant and stack integer IDs, and the EMS-95 alpha-numeric IDs
        </ul>

<H3><A NAME = "PDEMSPT_INPAR"> Input Parameters</A></H3>
     <ul>

     <li><b>Output time zone:</b> The time zone to output the emissions (O for
     GMT, 5 for EST, 4 for EDT, etc.).  This time zone should be consistent with
     the zone that is needed for the final emissions output.
     <li><b>Start date:</b> The starting date for the period being
          processed (YYYYDDD|YYYYMMDD)
     <li><b>Start time:</b> The starting time for the period being processed
         (HHMMSS)
     <li><b>Duration:</b> Number of hours (including the start time) from the
     start date to continue processing the hourly emissions data.
     
     </ul>

<H3><A NAME = "PDEMSPT_INENV"> Input Environment Variables</A></H3>

     <ul>

     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.
     
     <li><b>RAW_SRC_CHECK</b>: If this environment variable is set to 'Y', the
     program will abort if all sources do not have records for all inventory
     pollutants.  If not set to 'Y', emissions for missing pollutant emissions
     will be set to zero.
     
     </ul>

<H3><A NAME = "PDEMSPT_OUTFIL"> Output Files</A></H3>
        <ul>
        <li> <A HREF= "#PDAY"> PHOUR</a> (NetCDF): SMOKE hour-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program
        </ul>

<H3><A NAME = "PDEMSPT_INCL"> Include file parameters</A></H3>

The following include files are used by PDEMSPT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.<p>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, PDEMSPT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>

    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
       <ul>
       <li><b>NPHR</b>: Maximum number of hour- specific point sources
       <li><b>NPSRC</b>: Maximum number of point sources
       </ul>
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
        speciation parameters
          <ul>
          <li><b>NIPOL</b>: Number of inventory pollutants
          </ul>    
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file
description data structures.

    </ul>

In addition, the program contains the following internal parameters that could
potentially require modification:
    <ul>
       
       <li><b>MXHR</b>: Maximum number of hours of data to be able to process
       <li><b>NZONE</b>: Number of time zones 3-character codes recognized by the
       program (such as EST)
    </ul>

<H3><A NAME = "PDEMSPT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Run-time variable dimensioning
    </ul>
    
<H3><A NAME = "PDEMSPT_BUGS"> Known Bugs</A></H3>
<ul> <li>No known bugs at this time</ul>

<H3><A NAME = "PDEMSPT_USAGE"> Usage</A></H3>
<p>

<PRE>
#
#   set up environment variables (logical names) of input files:
#
setenv PHLST  &lt;path-name for list of EMS-95 process.pt and pdayspec.pt files &gt;
setenv PNTS   &lt;path-name for SMOKE point source inventory file&gt;
setenv PSRC   &lt;path-name for SMOKE list of SMOKE sources with EMS-95
                  facility and stack IDs&gt;
setenv PHOUR  &lt;path-name for SMOKE      period-specific file&gt;
#
# now run the program: 
#
daypoint &lt;&lt;  EOF
Yes, continue with the program
PHLST                   ! List of EMS-95 process.pt and pdayspec.pt files
PNTS			! SMOKE point source file
PSRC                    ! SMOKE sources list with EMS-95 facility and stack IDs
PRDAY			! AFS format period-specific file
5                       ! Output time zone
1988200                 ! Starting date YYYYDDD | YYYYMMDD
000000                  ! Starting time HHMMSS
24                      ! Duration (number of hours)
PHOUR                   ! SMOKE hour-specific emissions file
EOF
#
#         done
#
</PRE><P> 

<HR>
<H2> <a name="PDPOINT"> PDPOINT </a></H2>
<table >
<tr>
<td><A HREF = "#PDPOINT_DESC"> Description</A>
<td><A HREF = "#PDPOINT_PRORD"> Processing Order</A>
<td><A HREF = "#PDPOINT_INFIL"> Input Files</A>
<td><A HREF = "#PDPOINT_INPAR"> Input Params</A>
<td><A HREF = "#PDPOINT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#PDPOINT_OUTFIL"> Output Files</A>
<td><A HREF = "#PDPOINT_INCL"> Include File Params</A>
<td><A HREF = "#PDPOINT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#PDPOINT_BUGS"> Known Bugs</A>
<td><A HREF = "#PDPOINT_USAGE"> Usage</A>
</table>

<H3><A NAME = "PDPOINT_DESC"> Description</A></H3>

    <b>Overview.</b> Program PDPOINT reads an ASCII AFS-format period-specific 
    (day-specific or  hour-specific) point source inventory files. Running the
    program is optional:  it is not necessary to use this program if no hour-
    or day- specific data are used in the model, or if only EMS-95- formatted
    hour-specific data are used.  The resulting output file contains the hour-
    or day- specific emissions, but not any other source characteristics, as
    these are contained only in the  SMOKE inventory file, <A HREF = "#PNTS">
    PNTS </A>.  The program may need to be run twice: once for hour- specific
    data and once for day-specific data, because only one data resolution
    (hourly or daily) can be run at a time.<p>
    
    <b>Default input parameters.</b> Default responses for starting date, time,
    and time step are taken from the first record in the PRDAY or PRHOUR
    period-specific input file. <p>
    
    <b>Order of records on input.</b> The period- specific data provided in the
    input PRDAY or PRHOUR file should be in <b> chronological order</b>  (e.g.,
    records for July 1, 1988, followed by records for July 2, 3, 4, ..., in
    order).<p>

    <b>Construction of future-year scenarios.</b> Note that EDSS/Models-3 I/O
    API <A HREF = "http://www.iceis.mcnc.org/EDSS/ioapi/H.M3TSHIFT.html">
    utility program M3TSHIFT</A> can be used to copy data from one time period
    to another (e.g., to read a July 1988 PDAY file and use its contents to
    construct a new June 2005 PDAY file).<p>
    
<H3><A NAME = "PDPOINT_PRORD"> Processing Order</A></H3>

    Program PDPOINT must be run after the <a href= "#RAWPOINT"> RAWPOINT</a>
    program, and before the <a href= "#TMPPOINT"> TMPPOINT</a> program.  The
    following <b>data flow diagram</b> provides a conceptual overview of using
    PDPOINT. <p>

    <img align=center src="POINT.PDP.gif" alt="Hour- and day-specific EPS 
    input diagram"><p>

    A similar diagram is also available in 
    <A HREF = "POINT.PDP.ps">Postscript</A>, in
    <A HREF = "POINT.PDP.gif">GIF</A>, in
    <A HREF = "POINT.PDP.xbm">X bitmap</A>, and in
    <A HREF = "POINT.PDP.jpg">JPEG</A>; <br> and diagrams describing how PDPOINT
    fits into temporal modeling for point sources are available in 
    <A HREF = "figs/POINT.TMP.ps">Postscript</A>, in
    <A HREF = "figs/POINT.TMP.gif">GIF</A>, in
    <A HREF = "figs/POINT.TMP.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.TMP.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "PDPOINT_INFIL"> Input Files</A></H3>
        <ul>
        
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from 
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> program
        <li><A HREF = "#PRDAY"> PRDAY</a> (ASCII): EPS2.0 day-specific data
        file
        <br>
        <b>OR</b><br>
        <A HREF = "#PRDAY"> PRHOUR</a> (ASCII): EPS2.0 hour-specific data
        file
        
        </ul>

<H3><A NAME = "PDPOINT_INPAR"> Input Parameters</A></H3>
     <ul>

     <li><b>Start date:</b> The starting date for the period being
          processed (YYYYDDD|YYYYMMDD)
     <li><b>Start time:</b> The starting time for the period being processed
         (HHMMSS)
     <li><b>Time step:</b> The amount of time between data points (HHMMSS)
     </ul>

<H3><A NAME = "PDPOINT_INENV"> Input Environment Variables</A></H3>

     <ul>

     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.<p>

     </ul>

<H3><A NAME = "PDPOINT_OUTFIL"> Output Files</A></H3>
        <ul>
        
        <li><A HREF= "#PDAY"> PDAY</a> (NetCDF): SMOKE day-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program<br>
        <b>OR</b><br>
        <A HREF= "#PDAY"> PHOUR</a> (NetCDF): SMOKE hour-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program
        </ul>

<H3><A NAME = "PDPOINT_INCL"> Include file parameters</A></H3>

The following include files are used by PDPOINT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.<p>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, PDPOINT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>
    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
       <ul>
       <li><b>NPDAY</b>: Maximum number of day-specific point sources
       </ul>
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
        speciation parameters
          <ul>
          <li><b>NIPOL</b>: Number of inventory pollutants
          </ul>    
    <li><a href= "INCLUDES.html#grdims"> GRDIMS3.EXT</a>: grid parameters
    <li><a href= "INCLUDES.html#tmdims"> TMDIMS3.EXT</a>: Temporal allocation
    dimensioning parameters
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file
description data structures.
    </ul>

<H3><A NAME = "PDPOINT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Run-time variable dimensioning
    </ul>
    
<H3><A NAME = "PDPOINT_BUGS"> Known Bugs</A></H3>
<ul> <li>No known bugs at this time</ul>

<H3><A NAME = "PDPOINT_USAGE"> Usage</A></H3>
<p>

<PRE>
#
#   set up environment variables (logical names) of input files:
#
setenv PNTS   &lt;path-name for SMOKE point source inventory file&gt;
setenv PRDAY  &lt;path-name for AMS format period-specific file&gt;
setenv PDAY   &lt;path-name for SMOKE      period-specific file&gt;
#
# now run the program:
#
daypoint &lt;&lt;  EOF
Yes, continue with the program
PNTS			! SMOKE point source file
PRDAY			! AFS format period-specific file
1988200                 ! Julian starting date YYYYDDD
000000                  ! starting time HHMMSS
240000                  ! time step     HHMMSS
PDAY                    ! SMOKE period-specific file
EOF
#
#         done
#
</PRE><P> 


<HR>
<H2> <a name="RAWPOINT"> RAWPOINT </a></H2>
<table >
<tr>
<td><A HREF = "#RAWPOINT_DESC"> Description</A>
<td><A HREF = "#RAWPOINT_PRORD"> Processing Order</A>
<td><A HREF = "#RAWPOINT_INFIL"> Input Files</A>
<td><A HREF = "#RAWPOINT_INPAR"> Input Params</A>
<td><A HREF = "#RAWPOINT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#RAWPOINT_OUTFIL"> Output Files</A>
<td><A HREF = "#RAWPOINT_INCL"> Include File Params</A>
<td><A HREF = "#RAWPOINT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#RAWPOINT_BUGS"> Known Bugs</A>
<td><A HREF = "#RAWPOINT_USAGE"> Usage</A>
</table>

<H3><A NAME = "RAWPOINT_DESC"> Description</A></H3>
    <b>Overview.</b> Program RAWPOINT inputs EPS2.0- formatted point
    source inventory emissions files and creates a sorted list of point sources,
    called the "emissions source attributes database" or the "SMOKE inventory"
    file.  Each entry in this file is an <a href= "#sources"> point source</a>,
    and has associated emissions.<p>
    
    <b> Multiple input files.</b> The program can read source data from many
    individual emissions inventory files by using a special input file, <a
    href= "#PNLST"> PNLST</a>.  This file is also used to set the inventory
    year for each of the individual input files (see section on PNLST for more
    information). SMOKE also permits data multiple inventory years to be in the
    same SMOKE inventory file, because the projection step permits the user to
    project from multiple inventory years to a single modeling year with the
    same projection matrix.<p>
    
    <b>Input format.</b> The program reads in the EPS2.0 formatted input files.
    It ignores the date given in these files and uses the PNLST input file to
    determine the inventory dat instead.<p>
    
    <b>Number of sources.</b> If the program has not been compiled for the
    correct number of point sources, NPSRC (see include parameters section
    below), then it will count the correct number of sources to use, and
    report this number. No output file will be written.  All point source
    programs should be recompiled when the number of sources is changed in the
    include file.<p>

    <b>Day- and Hour- specific data.</b>  The input files listed in <a href=
    "#PNLST"> PNLST</a>  should include <b>all sources</b> to be treated by the
    modeling prototype, including those present in day- or hour- specific data.
    Sources that are hour-specific will have their emissions values set to zero
    in the inventory file (if they are not set to some other value by the
    presence of an annual-estimate emissions record for the source). <p>

    <b>Source coordinates.</b>  RAWPOINT converts all point source locations to
    the coordinates of the grid projection used for a given run.  On a
    record-by-record basis in the input files, the source locations  may be
    specified either in AIRS &quot;UTM&quot; or in decimal  Lat-Lon
    coordinates.  Coordinates are interpreted as being  Lat-Lon when the UTM
    Zone field (columns 100-101) in the record  is either blank or is negative
    (e.g., the &quot;-9&quot;  conventionally used for &quot;missing&quot; in
    AIRS-related data). <p>
    
    <b>Missing and incorrect stack parameters.</b>  RAWPOINT checks the stack
    parameters in two ways.  First, it bounds all those parameters that are
    outside the bounding stack parameter values in the <a href=
    "INCLUDES.html#ptdims"> PTDIMS3.EXT</a> include file, but it does not
    convert missing and zero parameters to the minimum.  Second, it converts all
    missing and zero stack parameters to the default values that are in the <a
    href= "#PSTK"> PSTK</a> file, which can be applied based on the sources' FIPS
    codes and SCCs.<p>

<H3><A NAME = "RAWPOINT_PRORD"> Processing Order</A></H3>

    The program RAWPOINT needs only to be run if the user is starting with
    EPS2.0- formatted emissions data, and in this case, RAWPOINT must be run
    first.  The following <b>data flow diagram</b> provides a conceptual
    overview of using RAWPOINT. <p>

    <img align=center src="figs/POINT.RAW.gif" alt="Point source EPS input            diagram"><p>

    A similar diagram is also available in 
    <A HREF = "figs/POINT.RAW.ps">Postscript</A>, in
    <A HREF = "figs/POINT.RAW.gif">GIF</A>, in
    <A HREF = "figs/POINT.RAW.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.RAW.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "RAWPOINT_INFIL"> Input Files</A></H3>
        <ul> 

	<li> <A HREF= "#PNLST"> PNLST</A> (ASCII): Contains a list of
	all of the EPS2.0- formatted point source input files
	<li> <A HREF = "#PSTK"> PSTK</A> (ASCII):  Replacement values of
        missing stack parameters
        <li> <A HREF = "MERGE.html#ZONES">ZONES</A> (ASCII): Time-zone cross reference
        file (per state/county)
        <li> <a href="MERGE.html#GRIDDESC"> GRIDDESC</a> (ASCII): Parameters describing
        grid and grid projection (of Earth's surface to the plane of the grid)

        </ul> 

<H3><A NAME = "RAWPOINT_INPAR"> Input Parameters</A></H3>

   <ul> <li> NONE </ul>

<H3><A NAME = "RAWPOINT_INENV"> Input Environment Variables</A></H3>

     <ul>

     <li><b>RAW_SRC_CHECK</b>: If this environment variable is set to 'Y', the
     program will abort if all sources do not have records for all inventory
     pollutants.  If not set to 'Y', emissions for missing pollutant emissions
     will be set to zero.

     <li><b>WEST_HSPHERE</b>: This variable has two settings:
         <ul>
         <li><b>Y</b>: (Default) All non-negative longitude values will be converted to the Western Hemisphere
         <li><b>N</b>: Non-negative longitude values will not be converted to
the Western Hemisphere
         </ul>

     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.
     </ul>

<H3><A NAME = "RAWPOINT_OUTFIL"> Output Files</A></H3>
        <ul>
        
	<li> <a href= "#PNTS"> PNTS</a> (NetCDF): Sorted list of point
	sources, called the "emissions source attributes database" or the
	"SMOKE inventory" file.  This file contains the codes (FIPS, SCC, etc.)
	identifying each source and the annual inventory pollutant totals. It
	is used by the <a href= "#GRDPMAT"> GRDPMAT</a>, <a href=
	"#SPCPMAT"> SPCPMAT</a>,  <a href= "#TMPPOINT"> TMPPOINT</a>,
	and <a href= "#CTLPMAT"> CTLPMAT</a> programs.  It is also
	potentially used by the <a href= "#PDPOINT"> PDPOINT</a>, <a href=
	"#LAYPOINT"> LAYPOINT</a>, <a href= "#ELEVPOINT">
	ELEVPOINT</a>, <a href= "QA.html#GRDPOINT"> GRDPOINT</a>, and <a href= 
	"QA.html#CSGPOINT"> CSGPOINT</a> programs.
	<li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes 
	appearing in the inventory.  It is used by the <a
	href="#TMPPOINT"> TMPPOINT</a> and <a href="#SPCPMAT"> 
	SPCPMAT</a> programs.

        </ul>

<H3><A NAME = "RAWPOINT_INCL"> Include file parameters</A></H3>

The following include files are used by RAWPOINT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.<p>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, RAWPOINT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>
    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
    dimensioning parameters
       <ul>
       <li><b>NPSRC</b>: Actual number of point sources
       </ul>
    <li><a href= "INCLUDES.html#grdims"> GRDIMS3.EXT</a>: grid parameters
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
        speciation parameters
       <ul>
       <li><b>NIPOL</b>: Number of inventory pollutants
       </ul>
    <li><a href= "INCLUDES.html#tmdims"> TMDIMS3.EXT</a>: Temporal allocation
    dimensioning parameters
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file
description data structures
    </ul>


<H3><A NAME = "RAWPOINT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Run-time variable dimensioning
    <li>All stack paramaters to be stored in Lat-Lon coordinates regardless of
    input and output grid projections
    </ul>
<H3><A NAME = "RAWPOINT_BUGS"> Known Bugs</A></H3>
   <ul> <li> No known bugs at this time </ul>
<H3><A NAME = "RAWPOINT_USAGE"> Usage</A></H3>
<p>

<PRE>
#
#   set up environment variables (logical names) of input files:
#
setenv PNLST    &lt;path-name for list of EMS-95 input files&gt;
setenv PSTK     &lt;path-name for replacement values of missing stack
                                  parameters&gt;
setenv ZONES    &lt;path-name for time zones cross- reference file&gt;
setenv PSCC     &lt;path-name for list of unique SCC codes in inventory&gt;
setenv PNTS     &lt;path-name for SMOKE point source inventory file&gt;
#
# now run the program:
#
rawpoint &lt;&lt;  EOF
Yes, continue with the program
PNLST			! List of EMS-95 input files
PSTK			! Replacement values of missing stack parameters
ZONES			! Time zones cross- reference file
PSCC			! Output list of unique SCC codes in inventory
PNTS			! Output SMOKE point source inventory file
EOF
#
#         done
#
</PRE><P> 


<HR>
<H2> <a name="SPCPMAT"> SPCPMAT </a></H2>
<table >
<tr>
<td><A HREF = "#SPCPMAT_DESC"> Description</A>
<td><A HREF = "#SPCPMAT_PRORD"> Processing Order</A>
<td><A HREF = "#SPCPMAT_INFIL"> Input Files</A>
<td><A HREF = "#SPCPMAT_INPAR"> Input Params</A>
<td><A HREF = "#SPCPMAT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#SPCPMAT_OUTFIL"> Output Files</A>
<td><A HREF = "#SPCPMAT_INCL"> Include File Params</A>
<td><A HREF = "#SPCPMAT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#SPCPMAT_BUGS"> Known Bugs</A>
<td><A HREF = "#SPCPMAT_USAGE"> Usage</A>
</table>

<H3><A NAME = "SPCPMAT_DESC"> Description</A></H3>

<b>Overview.</b> The SPCPMAT program creates the speciation matrix for the
point sources. This matrix is then used in the merge step to apply the
speciation factors to the inventory pollutant emissions in the temporalized
emissions file.<p>

<b>Volatile conversions.</b> In some cases, the volatile pollutant in the
inventory is not the same as the volatile pollutant for which the volatile
speciation profiles, <a href= "#PSPRO"> PSPRO</a>, are available.  SMOKE will
permit these disparate inputs to be used, but an additional input is required
that contains factors to convert the volatile inventory pollutant to that of
the profile.  This additional input is known as the volatile conversion factors
file, <a href= "#PSCNV"> PSCNV</a>.<p>

<b>Speciation cross-reference usage.</b>

    The speciation cross-reference file describes which speciation profiles are
    to be used for transforming the volatile inventory pollutant to the
    volatile model species for specific sources or types of sources.  SPCPMAT
    permits the assigning of profiles to sources based on the state and county
    FIPS code, the Standard Classification code (SCC), the plant ID, and the
    stack ID. A hierarchical system is used to apply the profiles in which the
    most specific assignments are applied first, followed by the next most
    specific, etc. For example, the cross-reference file could have all of one
    state to use one profile, but diurnal emissions processes in that state
    would use another profile.<p>

<H3><A NAME = "SPCPMAT_PRORD"> Processing Order</A></H3>

    The SPCPMAT processor is independent of the other area sources processors. 
    It can be run any time after the <a href="#RAWPOINT"> RAWPOINT</a> or <a
    href= "EMSPOINT"> EMSPOINT</a> programs and before one of the merge-type
    programs <A HREF = "QA.html#CSGPOINT"> CSGPOINT</A>, <A HREF =
    "MERGE.html#CSGMERGE"> CSGMERGE</A>, or <A HREF = "MERGE.html#CSGLMERGE">
    CSGLMERGE</A>.

    The following <b>data flow diagram</b> provides a conceptual overview
    of using SPCPMAT. <p>

    <img align=center src="figs/POINT.SPC.gif" alt="Point speciation diagram">
    <p>

    A similar diagram is also available in 
    <A HREF = "figs/POINT.SPC.ps">Postscript</A>, in
    <A HREF = "figs/POINT.SPC.gif">GIF</A>, in
    <A HREF = "figs/POINT.SPC.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.SPC.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "SPCPMAT_INFIL"> Input Files</A></H3>
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs
        <li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes 
	appearing in the inventory
	<li> <a href="#PSPRO"> PSPRO</a> (ASCII): EPS2.0- formatted
	speciation profiles
	<li> <A HREF ="#PSREF">PSREF</A> (ASCII): EPS2.0- formatted
        speciation cross- references
	<li> <a href="#PSCNV"> PSCNV</a> (ASCII): Volatile conversion
	factors (e.g., ROG to TOG)
        </ul>

<H3><A NAME = "SPCPMAT_INPAR"> Input Parameters</A></H3>

        <ul><li> NONE</ul>

<H3><A NAME = "SPCPMAT_INENV"> Input Environment Variables</A></H3>

        <ul>
        <li><b>LOGFILE</b>: If this environment variable is defined as a valid
       physical file name, the program's
        errors, warnings, notes, and other information will be recorded in this
        file. Otherwise, that information will be written to standard output.<p>

        </ul>

<H3><A NAME = "SPCPMAT_OUTFIL"> Output Files</A></H3>
        <ul>
        
	<li><A HREF = "#PSMAT"> PSMAT</A> (NetCDF): Speciation matrix, used
	by  <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>, and/or <a href=
	"MERGE.html#CSGLMERGE"> CSGLMERGE</a>, and/or <a href= "MERGE.html#CSGLDAYMRG">
	CSGLDAYMRG</a>, and optionally by  <em><a href="QA.html#CSGPOINT">
	CSGPOINT</a> </em>.	

        </ul>

<H3><A NAME = "SPCPMAT_INCL"> Include file parameters</A></H3>
The following include files are used by SPCPMAT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.<p>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, SPCPMAT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>
    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
        dimensioning parameters
        <ul>
        <li><b>NSREF</b>: Maximum number of entries in speciation
                          cross- reference
        <li><b>NPSRC</b>: Number of point sources
        </ul>    
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
                    speciation parameters
        <ul>
        <li><b>MXSCNV</b>: Maximum number of volatile conversion factors
        <li><b>MXSPRO</b>: Maximum number of speciation profiles
        <li><b>NIPOL</b>: Number of inventory pollutants
        <li><b>NMPOL</b>: Number of model species
        
        </ul>
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
         declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file
         description data structures.
    </ul>

<H3><A NAME = "SPCPMAT_UPCOM"> Upcoming Features</A></H3>
    <ul>
    <li>Run-time variable dimensioning
    </ul>
    
<H3><A NAME = "SPCPMAT_BUGS"> Known Bugs</A></H3>
    <ul>
    <li>No known bugs at this time
    </ul>

<H3><A NAME = "SPCPMAT_USAGE"> Usage</A></H3>
<p>

<PRE>
#
#  setenvs for logical file names:
#
setenv PNTS  &lt;path-name for SMOKE point source annual inventory file&gt;
setenv PSCC  &lt;path-name for actual SCC file&gt;
setenv PSCNV &lt;path-name for volatile conversion factors file&gt;
setenv PSREF &lt;path-name for point source speciation cross reference file&gt;
setenv PSPRO &lt;path-name for point source speciation profile file&gt;
setenv PSMAT &lt;path-name for SMOKE gridding matrix file&gt;
#
#  Now run the program:
#
spcpmat  &lt;&lt; EOF
Yes, continue with the program
PNTS                    !  SMOKE point source annual inventory file
PSCC                    !  actual SCC file
PSREF                   !  speciation cross reference file
PSPRO                   !  speciation profile file
PSCNV                   !  volatile conversion factors file
PSMAT                   !  gridding matrix file, or &quot;NONE&quot;
EOF
#
#  done
#
</PRE>


<HR>
<H2> <a name="TMPPOINT"> TMPPOINT </a></H2>
<table >
<tr>
<td><A HREF = "#TMPPOINT_DESC"> Description</A>
<td><A HREF = "#TMPPOINT_PRORD"> Processing Order</A>
<td><A HREF = "#TMPPOINT_INFIL"> Input Files</A>
<td><A HREF = "#TMPPOINT_INPAR"> Input Params</A>
<td><A HREF = "#TMPPOINT_INENV"> Input Envt Vars</A>
<tr>
<td><A HREF = "#TMPPOINT_OUTFIL"> Output Files</A>
<td><A HREF = "#TMPPOINT_INCL"> Include File Params</A>
<td><A HREF = "#TMPPOINT_UPCOM"> Upcoming Features</A>
<td><A HREF = "#TMPPOINT_BUGS"> Known Bugs</A>
<td><A HREF = "#TMPPOINT_USAGE"> Usage</A>
</table>

<H3><A NAME = "TMPPOINT_DESC"> Description</A></H3>

    <b>Overview.</b> The TMPPOINT program converts the annualized inventory
    pollutant emissions to hourly inventory pollutant emissions by using
    temporal profiles, temporal cross- references, and the time zone of each
    source.  It also can read in day- and/or hour- specific data that overrides
    and annual data for those sources with such more specific data.  Finally,
    for <a href= "#cutoff"> cutoff (a.k.a. EPS2.0)</a> style processing, it
    separates non-elevated sources from elevated source, writing an hourly
    inventory pollutant emissions file for each.<P> 
    
    <b>Temporal cross-reference matching.</b> In case of missing entries in the
    cross reference file, TMPPOINT first looks for cross reference entries for
    other species at the same level in the search hierarchy before descending
    to the next level in the hierarchy.  For example, if a source has a
    temporal cross reference entry for CO but not for NOx, TMPPOINT will use
    the source-specific CO temporal cross reference entry for allocating NOx
    from that source in preference to using an SCC-default NOx temporal
    profile. Using the cross- reference, the temporal profiles can be applied
    by state and county FIPS code, Standard Classification Code (SCC), plant
    ID, stack ID, and inventory pollutant. <p>

    <b>Construction of future-year scenarios.</b> Note that EDSS/Models-3 I/O
    API <A HREF = "http://www.iceis.mcnc.org/EDSS/ioapi/H.M3TSHIFT.html">
    utility program M3TSHIFT</A> can be used to copy data from one time period
    to another (e.g., to read a July 1988 PTMP file and use its contents to
    construct a new June 2005 PTMP file).<p>
    
<H3><A NAME = "TMPPOINT_PRORD"> Processing Order</A></H3>

    The TMPPOINT program must be preceeded only by the <a href= "#RAWPOINT">
    RAWPOINT</a> or <a href= "#EMSPOINT"> EMSPOINT</a> programs, and must be
    run before any of the merge-type programs <A HREF = "QA.html#CSGPOINT">
    CSGPOINT</A>, <A HREF = "MERGE.html#CSGMERGE"> CSGMERGE</A>, or <A HREF =
    "MERGE.html#CSGLMERGE"> CSGLMERGE</A>.  The following <b>data flow
    diagram</b> provides a conceptual overview of using TMPPOINT. <p>

    <img align=center src="figs/POINT.TMP.gif" alt="Point temporal diagram"><p>

    A similar diagram is also  available in 
    <A HREF = "figs/POINT.TMP.ps">Postscript</A>, in
    <A HREF = "figs/POINT.TMP.gif">GIF</A>, in
    <A HREF = "figs/POINT.TMP.xbm">X bitmap</A>, and in
    <A HREF = "figs/POINT.TMP.jpg">JPEG</A>.
    <P> 

<H3><A NAME = "TMPPOINT_INFIL"> Input Files</A></H3>
        <ul>
        <li><a href= "#PNTS"> PNTS</a> (NetCDF): SMOKE inventory file from 
        the <A HREF= "#RAWPOINT"> RAWPOINT</A> or <A HREF=
        "#EMSPOINT"> EMSPOINT</a> programs.
        <li><em><A HREF= "#PDAY"> PDAY</a></em> (NetCDF): SMOKE day-specific
        inventory file used by the <a href= "#TMPPOINT"> TMPPOINT</a>
        program.
        <li><em><A HREF= "#PDAY"> PHOUR</a></em> (NetCDF): SMOKE hour-specific
        inventory file used by the <a href="#TMPPOINT"> TMPPOINT</a>
        program.
        <li><em><A HREF = "#PELV"> PELV</A></em> (ASCII): Elevated source
        list from the <a href= "#ELEVPOINT"> ELEVPOINT</a> program.
        <li> <a href= "#PSCC"> PSCC</a> (ASCII): Sorted list of SCC codes
        appearing in the inventory from the <a
        href="#TMPPOINT"> TMPPOINT</a> program.
        <li><A HREF = "#PTPRO"> PTPRO</A> (ASCII): EPS2.0- formatted
        temporal profiles.
        <A HREF = "#PTREF"> PTREF</A> (ASCII): EPS2.0- formatted or output
        file from <A HREF=
        "#EMSPOINT"> EMSPOINT</a> program.
        </ul>

<H3><A NAME = "TMPPOINT_INPAR"> Input Parameters</A></H3>
     <ul>
     <li><b>Simulation time zone:</b> 
	  The number of hours East of Greenwich Mean Time (taking
	  daylight savings time into account  if appropriate):  Eastern
	  Standard Time is Zone 5, for example; Eastern Daylight Time is Zone 4.
     <li><b>Starting date:</b> The starting date for the simulation
            (YYYYDDD)|(YYYYMMDD)
     <li><b>Starting time:</b> The starting time for the simulation (HHMMSS)
     <li><b>Output duration:</b> The number of hours in the simulation
     </ul>

<H3><A NAME = "TMPPOINT_INENV"> Input Environment Variables</A></H3>
     <ul>
     <li><b>ZONE4WM</b>: The variable has two settings:
         <ul>
         <li><b>Y</b>: (Default) Consider the time zone of  each source when
         applying weekly and monthly temporal profiles.  This approach is a more
         accurate use of temporal profiles.<p>
         
	 The practical implication of this is that Sunday June 1st
	 starts _not_ at the output time zone's "Sunday" and "June", but at
	 each source's "Sunday" and "June".  For example, setting this variable
	 to 'N' means that the start of North Carolina's Sunday  is the same as
	 the start of England's Sunday, if we were processing in GMT.  With
	 this variable set to 'Y', England and NC start their respective
	 Sundays and Junes 5 hours (or 4 hours during daylight savings) apart. 
	 In addition, Missouri (in the central time zone) starts it's Sunday
	 one hour after that in North Carolina.<p>

         <li><b>N</b>: Do not consider the time zone of each source when
         applying weekly and monthly temporal profiles. Code performance is
         greater using this setting, but emissions can be less accurate,
         therefore, this setting should be
         used only in very specific circumstances:
             <ul> 
             <li> When there are multiple time zones in the inventory, but the
                  user knows that the output grid only contains one time zone
                  <b> AND</b> the output time zone input to this program
                  is the same as the time zone as is spanned by the gridded 
                  region. 
             
             <li> When SMOKE output from a simulation with multiple time zones
                  is being compared to EMS-95 or to EPS.
             </ul> 
         </ul>
     <li><b>LOGFILE</b>: If this environment variable is defined as a valid
     physical file name, the program's
     errors, warnings, notes, and other information will be recorded in this
     file. Otherwise, that information will be written to standard output.<p>

     </ul>

<H3><A NAME = "TMPPOINT_OUTFIL"> Output Files</A></H3>
     <ul>
         <li><A HREF = "#PTMP"> PTMP</A> (NetCDF): Hourly inventory
         pollutant emissions.  This file is used by the CSGMERGE, CSGLMERGE, or
         CSGLDAYMRG programs, and can optionally be used by the <em>
         GRDPOINT</em>, and <em> CSGPOINT</em> programs.
	 <li><em><A HREF= "#ETMP"> ETMP</A></em> (NetCDF): Hourly elevated
	 inventory pollutant emissions used by <em> CSELEV</em>
    </ul>
 
<H3><A NAME = "TMPPOINT_INCL"> Include file parameters</A></H3>

The following include files are used by TMPPOINT.  In this section, we highlight
included parameters that users may need to modify to suit their particular
simulation needs for this program, and these are listed in alphabetical order
for each  include file. The include files are listed in the order that they
appear in the source code. Refer to the section on <a href= "INCLUDES.html">
include files</a> for specific details about the parameters.<p>

In case the dimensioning for the matrix or for internal work arrays is
insufficient, TMPPOINT will recognize and report the fact to the  program log;
in that case, the user needs to increase the dimensioning by changing the
appropriate PARAMETER statements  in the inlcude file(s) and re-compile the
relevant parts of SMOKE.  <P>
    <ul>
    <li><a href= "INCLUDES.html#ptdims"> PTDIMS3.EXT</a>: point- source
           dimensioning parameters
        dimensioning parameters
        <ul>
        <li><b>NPSRC</b>: Number of point sources
        <li><b>NPHR</b>: Maximum number of elevated point-sources
        <li><b>NPELV</b>: Maximum number of elevated point- sources
        </ul>    
    <li><a href= "INCLUDES.html#chdims"> CHDIMS3.EXT</a>: non- generalized
           speciation parameters
          <ul>
          <li><b>NIPOL</b>: Number of inventory pollutants
          </ul>    
  <li><a href= "INCLUDES.html#tmdims"> TMDIMS3.EXT</a>: Temporal allocation
           dimensioning parameters
          <ul>
          <li><b>NDCOD</b>: Maximum number of actual diurnal-weekday temporal profile codes
          <li><b>NMCOD</b>: Maximum number of actual monthly temporal profile codes
          <li><b>NWCOD</b>: Maximum number of actual weekly temporal profile codes
          </ul>
    <li><a href= "INCLUDES.html#parms3"> PARMS3.EXT</a>:  I/O API parameters
    <li><a href= "INCLUDES.html#iodecl3"> IODECL3.EXT</a>: I/O API function
           declarations
    <li><a href= "INCLUDES.html#fdesc3"> FDESC3.EXT</a>:  I/O API file
           description data structures.
    </ul>

<H3><A NAME = "TMPPOINT_UPCOM"> Upcoming Features</A></H3>
   <ul>
   <li> Run-time variable dimensioning
   </ul>
<H3><A NAME = "TMPPOINT_BUGS"> Known Bugs</A></H3>
   <ul>
   <li> No known bugs at this time
   </ul>
   
<H3><A NAME = "TMPPOINT_USAGE"> Usage</A></H3>
<p>

<PRE>
#
#  setenvs for logical file names:
#
setenv PNTS  &lt;path-name for SMOKE point source annual inventory file&gt;
setenv PDAY  &lt;path-name for SMOKE day-specific emissions file&gt;
setenv PHOUR &lt;path-name for SMOKE hour-specific emissions file&gt;
setenv PELV  &lt;path-name for SMOKE elevated sources file&gt;
setenv PSCC  &lt;path-name for actually-occurring SCC file&gt;
setenv PTREF &lt;path-name for point source temporal cross reference file&gt;
setenv PTPRO &lt;path-name for point source temporal profile file&gt;
setenv PTMP  &lt;path-name for SMOKE lower level time stepped emissions file&gt;
setenv ETMP  &lt;path-name for SMOKE upper level time stepped emissions file&gt;
#
#  Now run the program:
#
tmppoint  &lt;&lt; EOF
Yes, continue with the program
PNTS                    !  point source annual inventory file
PDAY                    !  day-specific  file, or &quot;NONE&quot;
PHOUR                   !  hour-specific file, or &quot;NONE&quot;
PSCC                    !  actually-occurring SCC file
PTREF                   !  temporal cross reference file
PTPRO                   !  temporal profile file
PELV                    !  elevated sources file, or &quot;NONE&quot;
4                       !  time zone for output file
1988200                 !  Julian starting date, YYYYDDD
000000                  !  starting time, HHMMSS
121                     !  output duration (hours)
PTMP                    !  lower level time stepped emissions file
ETMP                    !  upper level time stepped emissions file (if PELV)
EOF
#
#  done
#
</PRE>
<HR> 

<H2> <A NAME = "dataset"> Point Source Data Set Definitions </A> </H2>

The following list in in alphabetical order:

    <UL>
        <LI>  <A HREF = "#ETMP"> <STRONG>ETMP: </STRONG> </A>
              Timestepped elevated point source emissions file

        <LI>  <A HREF = "#PCMAT"> <STRONG>PCMAT: </STRONG> </A>
              Point source control matrix file

        <LI>  <A HREF = "#PCREPT"> <STRONG>PCREPT: </STRONG> </A>
              Describes types of controls applied for point sources

        <LI>  <A HREF = "#PCTRACK"> <STRONG>PCTRACK: </STRONG> </A>
              List of point source FIPs codes and SCC codes for generating 
              controls report

        <LI>  <A HREF = "#PCTRL"> <STRONG>PCTRL: </STRONG> </A>
              ASCII point source controls file

        <LI>  <A HREF = "#PDAY"> <STRONG>PDAY</STRONG> and
              <STRONG>PHOUR: </STRONG> </A> Day-specific or
              hour-specific point source inventory emissions file
   
        <LI>  <A HREF = "#PELV"> <STRONG>PELV: </STRONG> </A>
              ASCII elevated point sources list (for cutoff plume rise)

        <LI>  <A HREF = "#PGMAT"> <STRONG>PGMAT: </STRONG> </A>
              Point source gridding matrix file
              
        <LI>  <A HREF = "#PHLST"> <B>PHLST:</B></A> 
              List of the EMS95- formatted hour- specific point source input 
              files
	
        <LI>  <A HREF = "#PLAY"> <STRONG>PLAY: </STRONG></A>
              Time stepped fractions of point source plumes to be 
              allocated to each model layer in EDSS emissions processing.

        <LI>  <A HREF = "#PNLST"> <STRONG>PNLST: </STRONG> </A>
	      List of all of the EPS2.0- formatted or EMS-95- formatted point
	      source input files

        <LI>  <A HREF = "#PNTS"> <STRONG>PNTS: </STRONG> </A>
              Point source emissions inventory file

        <LI>  <A HREF = "#PRDAY"> <STRONG>PRDAY</STRONG> and
              <STRONG>PRHOUR: </STRONG> </A>
              EPS2.0 formatted ASCII day-specific or hour-specific
              point source inventory emissions file(s)

        <LI>  <A HREF = "#PSCC"> <STRONG>PSCC: </STRONG> </A>
              ASCII list of all SCC codes in inventory
              
        <LI>  <A HREF = "#PSCNV"> <STRONG>PSCNV: </STRONG> </A>
              Volatile conversion factors (e.g., ROG to TOG)
              
        <LI>  <A HREF = "#PSMAT"> <STRONG>PSMAT: </STRONG> </A>
              Point source speciation matrix file

        <LI>  <A HREF = "#PSPRO"> <STRONG>PSPRO: </STRONG> </A>
              Point source speciation profile file

        <LI>  <A HREF = "#PSRC"> <STRONG>PSRC: </STRONG> </A>
              List of SMOKE sources with EMS-95 facility and stack IDs
              
        <LI>  <A HREF = "#PSREF"> <STRONG>PSREF: </STRONG> </A>
              Point source speciation cross-reference file

        <LI>  <A HREF = "#PSTK"> <STRONG>PSTK: </STRONG> </A>
              ASCII cross reference for filling in missing point source 
              stack parameters
              
        <LI>  <A HREF = "#PTMP"> <STRONG>PTMP: </STRONG> </A>
              Timestepped (lower level) point source emissions file

        <LI>  <A HREF = "#PTPRO"> <STRONG>PTPRO: </STRONG> </A>
              Point source temporal profile file

        <LI>  <A HREF = "#PTREF"> <STRONG>PTREF: </STRONG> </A>
              Point source temporal cross-reference file
         
        <LI> <A HREF="#REPRTLAY"><STRONG>REPRTLAY: </STRONG></A>
              Plume rise analysis file
    </UL>
    <P> 

<HR> 
   
<H2> <a name="ETMP"> ETMP File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Elevated hourly point source emissions <p>
    <b>Sequence:</b> Optional Intermediate <p>
    <b>Type:</b> IO/API NetCDF<p> 
    <b>Origin:</b> <a href= "#TMPPOINT"> TMPPOINT</a> program<p>
    <b>Used by:</b> <a href=
    "http://www.iceis.mcnc.org/edss/emissions/MERGE.html#CSELEV"> CSELEV</a><p>

    <b>Summary:</b> This file contains the hourly point source emissions for
    elevated sources.  It is created only during UAM-style plume rise
    processing.  Only the emissions that are in this file are treated as
    elevated when ultimately provided to the UAM.<p>
    
<H3>File Format(s)</H3>
    <b>Structure:</b>  Time dependent, degenerate IDDATA3<br>
    Members of the ID array in the timestep records are subscripts 
    into the sources specified in the <A HREF = "#PNTS"> PNTS file</A>
    (so that, for example, an ID of &quot;5&quot; means that the
    corresponding entries in the record are for the fifth source in the
    standard source ordering as found in PNTS). <p> 

    <b>Header:</b>
    <DL><DT> &nbsp; <DD>
    <table>
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NROWS
            <td> The number of rows is used for the actual number of point
            sources 
            <td> Parameter NPELV in <a href= "INCLUDES.html#ptdims">
                 PTDIMS3.EXT</a>
        </tr>
        <tr valign=top> <td> NVARS
            <td> The number of pollutants 
            <td> Parameter NIPOL in <a href= "INCLUDES.html#chdims">
                 CHDIMS3.EXT</a>
        </tr>
    </table>
    </DL>
    <p>
        
    <b>Variables:</b><p>
    
    The variables have names built out of the names of the inventory and
    chemical mechanism species in the include file <A HREF =
    "INCLUDES.html#chdims"> CHDIMS3.EXT</A>.  In the example below, VOC is
    assumed to be the volatile inventory pollutant.<p>

    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Variable
                        <td> Type
                        <td> Units
                        <td> Description
        <tr valign=top> <td> CO
                        <td> Float
                        <td> tons/hour
			<td> Carbon monoxide emissions
        <tr valign=top> <td> NOX 
                        <td> Float
                        <td> tons/hour
			<td> Nitrogen oxides emissions
        <tr valign=top> <td> VOC
                        <td> Float
                        <td> tons/hour
			<td> Volatile organic compound emissions
    </table>
    </DL>                    
    <p>

<HR> 

<H2> <a name="PCMAT"> PCMAT File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Area source control and/or projection matrix<p>
    <b>Sequence:</b> Optional Intermediate<p>
    <b>Type:</b>IO/API NetCDF<p>
    <b>Origin:</b><a href= "#CTLPMAT"> CTLPMAT</a> program<p>
    <b>Used by:</b><a href= "QA.html#CSGPOINT"> CSGPOINT</a>,
                    <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>,
                    <a href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a>, or
                    <a href= "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a> programs<p>
    
    <b>Summary:</b> This file contains the final control and projection 
    factors that are to be applied to each source, combined from the many 
    control packets of the <a href= "#CTLPMAT"> CTLPMAT</a> input file <a href=
    "#PCTRL"> PCTRL</a>.  The file stores a matrix of rows and columns, with 
    each row used for a single source, and each column used for an inventory
    pollutant (since the controls and/or projection factors often differ with
    each inventory pollutant).  Each row directly corresponds with the same row
    of the <a href= "#PNTS"> PNTS</a> file such that the controls from the
    former are applied to the emissions of the latter.<p> 

<H3>File Format(s)</H3>
    <b>Structure:</b> Time-independent, degenerate GRDDED3<p>
    <b>Header:</b>
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NROWS
            <td> The number of rows is the number of point sources
            <td> Parameter NPSRC in <a href= "INCLUDES.html#ptdims">
            PTDIMS3.EXT</a>
        </tr>
        <tr valign=top> <td> NVARS
            <td> The number of variables is the same as the number of inventory
            pollutants
            <td> Currently hardcoded to 3
        </tr>
    </table>
    </DL>
    <p>
    
    <b>Variables:</b> All variable names in the file are of the same form: the
    root is "CONTROL_", and is followed by the name of the inventory pollutant.
    For example, "CONTROL_NOX" is one of the variables names.<p>

    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Variable
                        <td> Type
                        <td> Units
                        <td> Description
        <tr valign=top> <td> CONTROL_&lt;inventory pollutant&gt;
                        <td> Float
                        <td> Unitless
                        <td> Control factor for source and pollutant
        </tr>
    </table>
    </DL>
    <p>

<HR> 

<H2> <a name="PCREPT"> PCREPT File </a></H2>

<H3> Overview</H3>
    <b>Description:</b>Describes types of controls applied for point sources<p> 
    <b>Sequence:</b> Optional output<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> <a href="#CTLPMAT"> CTLPMAT</a> program<p>
    <b>Used by:</b> NONE<p>
    <b>Summary:</b> This file provides a record for which controls and/or
    projections have been applied for which point sources.  This descriptive
    information can be generated only for specific sources using the <a href=
    "#PCTRACK"> PCTRACK</a> file.<p>

<H3>File Format(s)</H3>
    <b>Structure:</b> Each line of this file represents a single control
    applied to a single source.  The report is generated in sections based on
    the type of control applied.  All sources getting a particular control are
    listed in each section.  The following list describes each of the sections
    and the source and control details provided for each.
    <ul>
    <li><b>/SOURCE CATEGORY/</b>, FIPS code, SCC, Plant ID, Stack ID, <br>
        Old CO  control efficiency, New CO  control efficiency,<br>
        Old NOx control efficiency, New NOx control efficiency,<br> 
        Old VOC control efficiency, New VOC control efficiency
    <li><b>/FIPS CODE/</b>, FIPS code, SCC, Plant ID, Stack ID,<br>
        Old CO  control efficiency, New CO  control efficiency,<br>
        Old NOx control efficiency, New NOx control efficiency,<br> 
        Old VOC control efficiency, New VOC control efficiency
    <li><b>/PROJECT PTS/</b>, FIPS code, SCC, Plant ID, Stack ID, <br>
                       Old projection factor, new projection factor
    <li><b>/PROJECT PTS/</b>, inventory year, destination year, FIPS code, SCC, <br>
                       Plant ID, Stack ID, <br> Old projection factor, new projection factor
    <li><b>/RULE PENETRATION/</b>, FIPS code, SCC, Plant ID, Stack ID,<br>
        Old CO  rule penetration, New CO  rule penetration,<br>
        Old NOx rule penetration, New NOx rule penetration,<br> 
        Old VOC rule penetration, New VOC rule penetration 
    <li><b>/RULE EFFECTIVENESS/</b>, FIPS code, SCC, Plant ID, Stack ID,<br>
        Old CO  rule effectiveness, New CO  rule effectiveness,<br>
        Old NOx rule effectiveness, New NOx rule effectiveness,<br> 
        Old VOC rule effectiveness, New VOC rule effectiveness
    <li><b>/CONTROL EFFICIENCY/</b>, FIPS code, SCC, Plant ID, Stack ID,<br>
        Old CO  control efficiency, New CO  control efficiency,<br>
        Old NOx control efficiency, New NOx control efficiency,<br> 
        Old VOC control efficiency, New VOC control efficiency
    <li><b>/RACT/</b>, FIPS code, SCC, Plant ID, Stack ID,<br> 
        Old NOx control efficiency, New NOx control efficiency,<br> 
        Old VOC control efficiency, New VOC control efficiency
    <li><b>/MACT/</b>, FIPS code, ASCT, <br>
        Old VOC control efficiency, New VOC control efficiency
    <li><b>/CTG/</b>, FIPS code, SCC, Plant ID, Stack ID,<br>   
        Old NOx control efficiency, New NOx control efficiency, <em>and/or</em><br> 
        Old VOC control efficiency, New VOC control efficiency
               
    </ul>
    <p>
    
    <b>Example:</b>
    <pre>
    /PROJECT PTS/1990 to 1995 37001 2260005000  1.00000~&gt 1.03000
    </pre>
    <p>

<HR> 

<H2> <a name="PCTRACK"> PCTRACK File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> List of point source FIPs codes and SCC codes
                        for generating controls report<p>
    <b>Sequence:</b> Optional input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b> <a href="#CTLPMAT"> CTLPMAT</a> program<p>

    <b>Summary:</b> This file controls which sources will have their controls
    information described in the <a href= "#PCREPT"> PCREPT</a> file.  If
    PCTRACK is not provided, <b>all</b> sources will have their control details
    reported in PCREPT.<p>

<H3>File Format(s)</H3>
    
    <b>Structure:</b> List-formatted.  <b>NOTE:</b> Source characteristics must
    be explicitly listed; using defaults (zeroes) will not apply to multiple
    sources.<p>

    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td> 
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center> A
            <td>State and county FIPS code
       <tr><td align=center> &nbsp;
            <td align=center> B
            <td>SCC code

    </table>
    </DL>
    <p>
    <b>Example:</b>
    <p>
    <pre>
    37001  10200401
    37081  10200202
    37081  10200401
    </pre>
    <p>

<HR> 

<H2> <a name="PCTRL"> PCTRL File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> EPS2.0- formatted control and projection packets for
    point sources<p>
    <b>Sequence:</b> Input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b> <a href="#CTLPMAT"> CTLPMAT</a> program<p>
    <b>Summary:</b> 


<H3>File Format(s)</H3>
    <b>Same as:</b>EPS2.0- formatted control factors file (Tables B-17 through
    B-33 of the User's Guide for the Urban Airshed Model, Volume IV: User's
    Manual for the Emissions Preprocessor System 2.0. (EPA-450/4-90-007D(R))<p>

    <b>Except:</b>
    <ul>
        <li> Specific differences where noted below for each packet.
        <li> The packets should be entered in the order in which they are 
             to be applied.  The order below is the order that is used in 
             EPS2.0.
    </ul>

    <b>Structure:</b> Packet of column- specific records<p>

    The packets available in the original EPS2.0 documentation are listed
    below.  Those packets that cannot be used in PCTRL (that are not recognized
    by <a href= "#CLPMAT"> CLTPMAT</a>) are noted.  <em>NOTE:</em> The 
    subregion codes and control equipment codes do nothing in SMOKE.<P>

    <UL>
        <LI>  <STRONG>CTG:</STRONG>  control technology guideline controls;
        <LI>  <STRONG>MACT:</STRONG>  maximum achievable control
                                     technology controls; 
        <LI>  <STRONG>RACT:</STRONG> reasonably available control
                                     technology controls; 
        <LI>  <STRONG>Point Source Projection Factors </STRONG>;<br>
              <em>NOTE:</em> Another version of this packet is described
               in the <a href= "#CTLPMAT_DESC"> Description</a>  of the 
               CTLPMAT program.
        <LI>  <STRONG>Control Efficiency</STRONG> specifications;
        <LI>  <STRONG>Rule Effectiveness </STRONG> specifications;
        <LI>  <STRONG>Rule Penetration </STRONG> specifications;
        <LI>  <STRONG>Allowable</STRONG> emissions limits;<br>
              <em>NOTE:</em> This packet must have &quot;AE&quot; in
              columns 43 and 44, instead of &quot;CP&quot; or &quot;RP&quot;
              to be able to do anything at all.  However, the calculation 
              done for adjusting the emissions is not a cap or replacement.
              In fact, the calculation that is done now is invalid and should
              not be used.

        <LI>  <STRONG>Activity Code</STRONG> control factor
                                     specifications (skipped by CTLPMAT); 
        <LI>  <STRONG>POD Code </STRONG> control factor specifications
                                     (skipped by CTLPMAT);
        <LI>  <STRONG>Control Code </STRONG> control factor 
                                     specifications (skipped by CTLPMAT);
        <LI>  <STRONG>Profile Code </STRONG> control factor
                                     specifications (skipped by CTLPMAT);
        <LI>  <STRONG>Process Code</STRONG> control factor
                                     specifications (skipped by CTLPMAT);
        <LI>  <STRONG>FIPS Code</STRONG> control factor specifications;
        <LI>  <STRONG>SCC Code </STRONG> control factor specifications;
        <LI>  <STRONG>Subgrid </STRONG>  control factor specifications
                                     (skipped by CTLPMAT);
    </UL>

    <b>Example:</b>
    <p>
    <pre>
/CTG/
13000          30501201   0.5   0.5   10.01      0.01
13113          30501202   0.5   0.5   10.01      0.01
/END/

/RACT/
13135          30501204   0.75  0.75
/END/

/MACT/
13135          30501203  0.65
/END/

/CONTROL EFFICIENCY/
00000                 -9 3296 30501205   -9  50.0 50.0 50.0 50.0 50.0 50.0
/END/

/RULE EFFECTIVENESS/
13000                 -9 3296 30501206   -9  50.0 50.0 50.0 50.0 50.0 50.0
/END/

/RULE PENETRATION/
00000                 -9 3296 30501207   -9  50.0 50.0 50.0 50.0 50.0 50.0
/END/

/PROJECT PTS 1995 2020/
09000       01         0.9238
09000       02         0.9238
09000       07         1.0088
09000       08         1.0088
09000       09         1.0088
09000       11         1.1459
09000       12         1.1459
09000       13         1.1623
09000       10         1.0000
09000       14         1.2515
/END/

/PROJECT PTS 1990 2020/
09000       06         1.3258
/END/

/FIPS CODE/
13123          0.8       0.8       0.8       0.8       0.8       0.8
/END/

/SCC CODE/
13121               2101004001 1.0       0.526     1.0       1.0       1.0       1.0
/END/
</pre>

<p>

<HR> 

<H2> <a name="PDAY"> PDAY and PHOUR File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Daily and hourly inventory point source emissions
    files<p>
    <b>Sequence:</b> Optional intermediate<p>
    <b>Type:</b>  IO/API NetCDF<p>
    <b>Origin:</b> <a href= "#PDPOINT"> PDPOINT</a> or <a href=
    "#PDEMSPT"> PDEMSPT</a> program<p>
    <b>Used by:</b>  <a href= "#TMPPOINT"> TMPPOINT</a><p>
    
    <b>Summary:</b> PDAY and PHOUR are time-stepped emissions files with either
    a 24 hour or 1 hour time step, respectively. The PDAY file is produced when
    EPS2.0 formatted day-specific data is input to PDPOINT, and the PHOUR file
    is produced when EPS2.0 formatted data are input to PDPOINT or when EMS-95
    formatted hour-specific data are input to PDEMSPT.  <p>

<H3>File Format(s)</H3>
    <b>Structure:</b> Degenerate IDDATA3 <br>
    Members of the ID array in the timestep records are subscripts 
    into the sources specified in the <A HREF = "#PNTS"> PNTS file</A>
    (so that, for example, an ID of &quot;5&quot; means that the
    corresponding entries in the record are for the fifth source in the
    standard source ordering as found in PNTS).  <p>
    
    <b>Header:</b> 
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NROWS
            <td> The numbers of point
              sources with day-specific or hour-specific data.
            <td> Parameter NPDAY or NPHR in <a href= "INCLUDES.html#tmdims">
            TMDIMS3.EXT</a>
        </tr>
        <tr valign=top> <td> NVARS
            <td> The number of inventory pollutants
            <td> Parameter NIPOL in <a href= "INCLUDES.html#chdims3">
            CHDIMS3.EXT</a>
        </tr>
    </table>
    </DL>
    <P> 

    <b>Variables:</b><p>
    
    The variables in the file are the sourcelevel inventory speciated period
    specific point source emissions, in units of tons per time period (i.e.,
    tons/day or tons/hour).  Names for the variables are the EINAM inventory
    species names from the  <A HREF = "INCLUDES.html#chdims"> CHDIMS3.EXT
    include file.</A>   For example, NOX, CO, and VOC. <p>

<HR> 

   
<H2> <a name="PELV"> PELV File </a></H2>

<H3> Overview</H3>

    <b>Description:</b> List of elevated sources for <a href= "#cutoff">
    cutoff method</a> of elevated emissions processing<p>
    <b>Sequence:</b> Optional intermediate<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> <a href= "#ELEVPOINT"> ELEVPOINT</a> program<p>
    <b>Used by:</b> <a href= "#TMPPOINT"> TMPPOINT</a> program<p>
    
    <b>Summary:</b> The PELV file lists the SMOKE source characteristics of all
    of the point sources which are to be treated as elevated sources for all
    subsequent SMOKE emissions processing of those sources.<p>

<H3>File Format(s)</H3>
    <b>Structure:</b> List- formatted
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center>A
            <td> FIPS code
       <tr><td align=center> &nbsp;
            <td align=center>B
            <td>SCC code
       <tr><td align=center>&nbsp;
            <td align=center>C
            <td>SMOKE Plant ID code
       <tr><td align=center>&nbsp;
            <td align=center>D
            <td>SMOKE Stack ID code
 
    </table>
    </DL>
    <p>
    <b>Example:</b>
    <p>
    <pre>
    37001  10200401   708  001
    37081  10200202   309  010
    37081  10200401   309  011
    </pre>
    <p>

<HR> 


   
<H2> <a name="PGMAT"> PGMAT File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Point source gridding matrix<p>
    <b>Sequence:</b> Intermediate<p>
    <b>Type:</b> IO/API NetCDF<p>
    <b>Origin:</b> <a href= "#GRDPMAT"> GRDPMAT</a> program<p>
    <b>Used by:</b> <a href= "QA.html#GRDAREA"> CSGPOINT</a>,
                    <a href= "QA.html#CSGAREA"> CSGPOINt</a>,
                    <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>,
                    <a href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a>, or
                    <a href= "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a> programs<p>

    <b>Summary:</b> The gridding matrix is used to transform source- based
    emissions to grid cell- based emissions.  The rows of the matrix correspond
    to the point sources (with the rows sorted in the same order as the sources
    in the <a href= "#PNTS"> PNTS</a> file.  The columns of the matrix correspond
    to the grid cells, and because each source intersects only one  grid cell,
    this matrix is very sparse (has a lot of zeroes).  Where a grid cell and
    source do intersect, this position is stored in the matrix.  A gridding
    factor is not stored because it would always be 1.0, and the zero values are
    not stored (this is called sparse storage).<p>

<H3>File Format(s)</H3>
    <b>Structure:</b>Time-independent SMATRX3 (sparse storage)<p>
    <b>Header:</b>
    <DL><DT> &nbsp; <DD>
    <table>
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NCOLS
            <td> The number of columns is the number of sources
            <td> Parameter NPSRC in <a href= "INCLUDES.html#ptdims">
            PTDIMS3.EXT</a>
        </tr>
        <tr valign=top> <td> NROWS
            <td> The number of rows is the number of grid cells
            <td> Parameter NGRID in <a href= "INCLUDES.html#grdims">
            GRDIMS3.EXT</a>
        </tr>
        
    </table>
    </DL>
    <b>Variables:</b><p>PGMAT contains 
    sparse matrix indexing data structures only
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Variable
                        <td> Type
                        <td> Units
                        <td> Description
        <tr valign=top> <td> NX
                        <td> Integer
                        <td> Unitless
			<td> sparse matrix indexing array for the number of 
			     sources per cell (row). Dimensioned by the NGRID.
        <tr valign=top> <td> IX
                        <td> Integer
                        <td> Unitless
			<td> Contains source ID numbers, ordered by cell and
			     sources within the cell.  Dimensioned by NPSRC.
        </tr>
    </table>
    </DL>
    <p>
    
<HR> 

   
<H2> <a name="PHLST"> PHLST File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> List of the EMS-95- formatted hour- specific emissions
    data files<p>
    <b>Sequence:</b> Optional input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b> <A HREF = "PDEMSPT"> PDEMSPT</A> program<p>
    
    <b>Summary:</b>The PHLST is simply an ASCII file that lists the raw point
    source emissions files needed for hour-specific emissions processing.  This
    file is used to assigns the input files, because it is sometimes desirable
    to have input data in separate files and directories.  The input files
    listed in PHLST are the EMS-95 files "process.pt" and "pdayspec.pt".<p>

<H3>File Format(s)</H3>
    <b>Format for PHLST file:</b> List formatted<p>
    <b>The INVYEAR packet is not used in this file</b> <p>
    
    Two types of files must appear in the PHLST file.  The first file is the
    process.pt file, which permits SMOKE to match the sources in the pdayspec.pt
    files with the sources in the <a href= "#PNTS"> PNTS</a> inventory file. 
    All process.pt files that match the sources with hour-specific data must be
    listed first in this input format.  The process.pt files must contain all
    sources with hour-specific data, but can also include sources without such
    data (it is recommended that the same process.pt files used for EMSPOINT are
    used here as well). All files containing hour-specific data for the sources
    in the process.pt file must follow the process.pt file.  This can be
    mulitple files, each containing a single day of data, or one file with
    multiple days of data.<p> 

    <b>Example:</b> The following is an example of a correct PHLST file
    <p>
    <pre>
    /epserv/apps/smoke/inventory/smraq95/al5/common/process.pt
    /epserv/apps/smoke/inventory/smraq95/ga5/common/process.pt
    /epserv/apps/smoke/inventory/smraq95/al/scenario/950707/pdayspec.pt
    /epserv/apps/smoke/inventory/smraq95/al/scenario/950708/pdayspec.pt
    /epserv/apps/smoke/inventory/smraq95/al/scenario/950709/pdayspec.pt
    /epserv/apps/smoke/inventory/smraq95/al/scenario/950710/pdayspec.pt
    /epserv/apps/smoke/inventory/smraq95/ga/scenario/950707/pdayspec.pt
    /epserv/apps/smoke/inventory/smraq95/ga/scenario/950708/pdayspec.pt
    /epserv/apps/smoke/inventory/smraq95/ga/scenario/950709/pdayspec.pt
    /epserv/apps/smoke/inventory/smraq95/ga/scenario/950710/pdayspec.pt
     </pre>

    <b>Format for EMS-95 "process.pt" emissions file(s):</b>
    Column specific (See <a href= "#PNLST"> PNLST</a> file description, below)<p>
    
    <b>Format for EMS-95 "pdayspec.pt" emissions file(s):</b>
    Column specific  <p>  
    The columns listed here are only those that are used by SMOKE.
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center> 1-2
            <td>FIPS state code
       <tr><td align=center>&nbsp;
            <td align=center>3-5 
            <td>FIPS county code
       <tr><td align=center>&nbsp;
            <td align=center> 6-20
            <td>Facility ID (alpha-numeric)
       <tr><td align=center>&nbsp;
            <td align=center>21-32 
            <td>Stack ID (alpha-numeric)
       <tr><td align=center>&nbsp;
            <td align=center> 33-44
            <td>Device ID (alpha-numeric)
       <tr><td align=center>&nbsp;
            <td align=center> 45-56
            <td> Process ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center>57-61
            <td> Pollutant ID (e.g., NOX, VOC)
       <tr><td align=center> &nbsp;
            <td align=center>62-69
            <td> Date of data in MM/DD/YY format (years &lt 70 are
                 interpreted as being after 2000)
       <tr><td align=center> &nbsp;
            <td align=center valign=top> 70-72
            <td> Time zone of reported data - usually the time zone
             during which the data were collected unless a conversion has 
             already been made (e.g, est = Eastern standard time, edt = Eastern
             daylight time, cst = Central standard time, etc.)
       <tr><td align=center> &nbsp;
            <td align=center valign =top>73-240
            <td>24 values of emissions in 7.4 format (each value 
            has space for 7 characters, including the decimal, and expects up 
            to 4 decimal places of accuracy) [tons/hour]
    </table>
    </DL>
    <p>


<HR> 

   
<H2> <a name="PLAY"> PLAY File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Hourly plume rise fractions per source<p>
    <b>Sequence:</b> Optional intermediate<p>
    <b>Type:</b> IO/API NetCDF<p>
    <b>Origin:</b> <a href= "#LAYPOINT"> LAYPOINT</a><p>
    <b>Used by:</b> <A HREF = "MERGE.html#CSGLMERGE"> CSGLMERGE</A> or 
    <a href= "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a> programs<p>
    
    <b>Summary:</b> The LAYPOINT file is only needed for the <a href=
    "#layFracs"> layer fractions</a> method of elevated emissions processing (see
    section on layer fractions method for more information).  It contains layer
    fraction for <b>all</b> sources, and for all hours. Subscripts 
    for variables represent the source number, in the ordering
    specified in the <A HREF = "#PNTS"> PNTS</A> file.<p>

<H3>File Format(s)</H3>
    <b>Structure:</b> Time-dependent, degenerate GRDDED3<p>
    <b>Header:</b>
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NROWS
            <td> The number of rows is the number of point sources
            <td> Parameter NPSRC in <a href= "INCLUDES.html#ptdims">
            PTDIMS3.EXT</a>
        </tr>
        <tr valign=top> <td> NLAYS
            <td> The number of layers is the number of emissions layers
            <td> Parameter EMLAYS in <a href= "INCLUDES.html#vgrd"> VGRD3.EXT</a>
        </tr>
    </table>
    </DL>
    <p>
    
    <b>Variables:</b><p>
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Variable
                        <td> Type
                        <td> Units
                        <td> Description
        <tr valign=top> <td> LFRAC
                        <td> Float
                        <td> none
                        <td> Fraction of point source plume emitted into each
                        model layer
        </tr>
    </table>
    </DL>
    <p>

<HR> 

<H2> <a name="PNLST"> PNLST File </a></H2>

<H3> Overview.</H3>
    <b>Description:</b>List of all of the EPS2.0- formatted or EMS-95-
    formatted point source input files (includes a description of the EPS2.0 and
    EMS-95 raw input format)<p>
    <b>Sequence:</b> Input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b> <a href= "#RAWPOINT"> RAWPOINT</a> or <a href= "#EMSPOINT">
    EMSPOINT</a> programs<p>
    <b>Summary:</b> The PNLST is simply an ASCII file that lists one or more
    raw point source emissions files.  This file is used to assigns the input
    files, because it is sometimes desirable to have input data in separate
    files and directories.  The input files listed in PNLST can have either the
    ESP2.0 format or the EMS-95 format (and these are described below).<p>
    
<H3>File Format(s)</H3>
    <b>Format for PNLST file:</b> List formatted<p>
    The INVYEAR packet is used to set the inventory year of the files following
    it.  The packet can be used as many times as is necessary if multiple
    inventory years are used as input.<p>
    
    For EMS-95 inputs, the PNLST file must list the different types of EMS-95
    files in a specific order.  This order is the same as would be acheieved from 
    the UNIX command "ls".  The order is: device file, emissions file, facility
    file, process file, stack file. For EPS2.0 input format, there is only one
    format of input files, although they can contain hour- or day-specific data as
    well as annually totalled data.  The order of these files, however, is not
    important.<p>
    
    <b>Example:</b> The following is an example of a correct PNLST file when used
    for EMS-95 inputs.<br>
    <p>
    <pre>
    INVYEAR 1995
    /epserv/apps/smoke/inventory/smraq95/al5/common/device.pt
    /epserv/apps/smoke/inventory/smraq95/al5/common/emission.pt
    /epserv/apps/smoke/inventory/smraq95/al5/common/facility.pt
    /epserv/apps/smoke/inventory/smraq95/al5/common/process.pt
    /epserv/apps/smoke/inventory/smraq95/al5/common/stack.pt
    /epserv/apps/smoke/inventory/smraq95/ar5/common/device.pt
    /epserv/apps/smoke/inventory/smraq95/ar5/common/emission.pt
    /epserv/apps/smoke/inventory/smraq95/ar5/common/facility.pt
    /epserv/apps/smoke/inventory/smraq95/ar5/common/process.pt
    /epserv/apps/smoke/inventory/smraq95/ar5/common/stack.pt
     </pre>

    <b>Format for EPS2.0- formatted point source emissions file(s):</b>
    Column specific (See also Table B-1 in the EPS2.0 Users's Manual)<p>
    The columns listed here are only those that are used by SMOKE.
        <DL><DT> &nbsp; <DD>
            <table>
            <tr><td align=center> Line</td> <td align=center>Columns</td> 
                <td>Description</td>
            <tr><td align=center> 1+
                <td align=center> 12-16
                <td>State and county FIPS code
            <tr><td align=center> &nbsp;
                <td align=center> 24-27
                <td> Standard Industrial Classification (SIC) code
            <tr><td align=center> &nbsp;
                <td align=center> 29-38
                <td> Source Classification Code (SCC)
            <tr><td align=center> &nbsp;
                <td align=center> 40-44
                <td> Plant Identification code (<b>integers only</b>)
            <tr><td align=center> &nbsp;
                <td align=center> 46-48
                <td> Stack number
            <tr><td align=center> &nbsp;
                <td align=center> 57-58
                <td> Period<br>
                     Blank = annual<br>
                     PO = Peak ozone typical day<br>
                     PC = Peak CO typical day<br>
                     S  = Specified interval 
            <tr><td align=center> &nbsp;
                <td align=center> 60-67
                <td> Beginning period interval date/time (YYMMDDHH)
            <tr><td align=center> &nbsp;
                <td align=center> 69-76
                <td> Ending period interval date/time (YYMMDDHH)
            <tr><td align=center> &nbsp;
                <td align=center> 78-87
                <td> Latitude (decimal degrees) or UTM Easting coordinate (km)
                that defines plant location
            <tr><td align=center> &nbsp;
                <td align=center> 89-98 
                <td> Longitude (decimal degrees) or UTM Northing coordinate (km)
                that defines plant location
            <tr><td align=center> &nbsp;
                <td align=center> 100-101
                <td> UTM zone associated with UTM coordinates (must use blank for
                coordinates given in Lat/Lon)
            <tr><td align=center> &nbsp;
                <td align=center> 103-107
                <td> Stack height (m)
            <tr><td align=center> &nbsp;
                <td align=center> 109-113
                <td> Stack diameter (m)
            <tr><td align=center> &nbsp;
                <td align=center> 115-119
                <td> Stack exit gas temperature (deg K)
            <tr><td align=center> &nbsp;
                <td align=center> 121-125
                <td> Stack exit gas velocity (m/s)
            <tr><td align=center>&nbsp;
                <td align=center> 156-160
                <td> Pollutant code
            <tr><td align=center> &nbsp;
                <td align=center> 162-171
                <td>Emissions of specified pollutant (tons)
            <tr><td align=center> &nbsp;
                <td align=center> 177-182
                <td> Combined control equipment efficiency (percent) for 
                specified pollutant emissions (optional)
            <tr><td align=center> &nbsp;
                <td align=center> 184-189
                <td> Rule effectiveness (percent) of specified pollutant
                (optional)
            <tr><td align=center> &nbsp;
                <td align=center> 191-196
                <td> Rule penetration (percent) of specified pollutant
                (optional)
            </table>
        </DL>
    <p>

    
    <b>Format for EMS-95- formatted "device.pt" file(s):</b>
    Column specific  <p>
    The columns listed here are only those that are used by SMOKE.  
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center> 1-2
            <td>FIPS state code
       <tr><td align=center> &nbsp;
            <td align=center>3-5 
            <td>FIPS county code
       <tr><td align=center> &nbsp;
            <td align=center> 6-20
            <td>Facility ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center>21-32 
            <td>Stack ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center> 33-44
            <td>Device ID (alpha-numeric)
        <tr><td align=center> &nbsp;
            <td align=center> 45-48
            <td>Standard Industrial Classification (SIC)
        <tr><td align=center> &nbsp;
            <td align=center> 121-122
            <td>Diurnal profile code
        <tr><td align=center> &nbsp;
            <td align=center> 123-124
            <td>Weekly profile code
    </table>
    </DL>
    <p>
    
    <b>Format for EMS-95- formatted "emission.pt" file(s):</b>
    Column specific  <p>
    The columns listed here are only those that are used by SMOKE.  
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center> 1-2
            <td>FIPS state code
       <tr><td align=center> &nbsp;
            <td align=center>3-5 
            <td>FIPS county code
       <tr><td align=center> &nbsp;
            <td align=center> 6-20
            <td>Facility ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center>21-32 
            <td>Stack ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center> 33-44
            <td>Device ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center> 45-56
            <td> Process ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center>57-61
            <td> Pollutant ID (e.g., NOX)
       <tr><td align=center> &nbsp;
            <td align=center>88-100
            <td>Actual emissions (tons)
       <tr><td align=center> &nbsp;
            <td align=center>114-115
            <td>Temporal basis<br>
                     AA = annual emissions<br>
                     AD = daily emissions with weekday normalizer<br>
                     DS = day-specific emissions 
       <tr><td align=center> &nbsp;
            <td align=center>126-132
            <td>Control equipment efficiency (percent)
 
    </table>
    </DL>
    <p>
    
    <b>Format for EMS-95- formatted "facility.pt" file(s):</b>
    Column specific <p>
    The columns listed here are only those that are used by SMOKE.   
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center> 1-2
            <td>FIPS state code
       <tr><td align=center> &nbsp;
            <td align=center>3-5 
            <td>FIPS county code
       <tr><td align=center> &nbsp;
            <td align=center> 6-20
            <td>Facility ID (alpha-numeric)
       <tr><td align=center>  &nbsp;
            <td align=center>21-24
            <td>Standard Industrial Classification (SIC)
       <tr><td align=center> &nbsp;
            <td align=center> 25-33                    
            <td>UTM easting (m)
       <tr><td align=center> &nbsp;
            <td align=center>34-42
            <td>UTM northing (m)
       <tr><td align=center> &nbsp;
            <td align=center>43-44
            <td>UTM zone
        <tr><td align=center> &nbsp;
            <td align=center>45-84
            <td>Facility Name
    </table>
    </DL>
    <p>
    
    <b>Format for EMS-95- formatted "process.pt" file(s):</b>
    Column specific  <p>  
    The columns listed here are only those that are used by SMOKE.
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center> 1-2
            <td>FIPS state code
       <tr><td align=center> &nbsp;
            <td align=center>3-5 
            <td>FIPS county code
       <tr><td align=center> &nbsp;
            <td align=center> 6-20
            <td>Facility ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center>21-32 
            <td>Stack ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center> 33-44
            <td>Device ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center> 45-56
            <td> Process ID (alpha-numeric)
       <tr><td align=center>  &nbsp;
            <td align=center>57 - 64
            <td> Source Classification Code (SCC)
    </table>
    </DL>
    <p>
    
    <b>Format for EMS-95- formatted "stack.pt" file(s):</b>
    Column specific    <p>
    The columns listed here are only those that are used by SMOKE.
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center> 1-2
            <td>FIPS state code
       <tr><td align=center> &nbsp;
            <td align=center>3-5 
            <td>FIPS county code
       <tr><td align=center> &nbsp;
            <td align=center> 6-20
            <td>Facility ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center>21-32 
            <td>Stack ID (alpha-numeric)
       <tr><td align=center> &nbsp;
            <td align=center> 33-40
            <td>Stack diameter (ft)
       <tr><td align=center> &nbsp;
            <td align=center>41-47
            <td>Stack height above ground surface(ft)
       <tr><td align=center> &nbsp;
            <td align=center>48-54
            <td> Stack exit gas temperature (deg F)
       <tr><td align=center> &nbsp;
            <td align=center>55-61
            <td> Stack exit gas velocity (ft/s)
       <tr><td align=center> &nbsp;
            <td align=center> 62-71
            <td> Stack exit flow rate (actual ft^3/min)
       <tr><td align=center> &nbsp;
            <td align=center>72-80
            <td> UTM easting of stack (m) (default is plant's value) 
       <tr><td align=center> &nbsp;
            <td align=center>81-89
            <td>UTM northing of stack (m) (default is plant's value) 
    </table>
    </DL>
    <p>
    
<HR> 

<H2> <a name="PNTS"> PNTS File </a></H2>

<H3> Overview.</H3>
    <b>Description:</b> Sorted list of point sources, called the "emissions
    source attributes database" or the "SMOKE inventory" file <p>
    <b>Sequence:</b>Intermediate<p>
    <b>Type:</b> IO/API NetCDF<p>
    <b>Origin:</b> <a href= "#RAWPOINT"> RAWPOINT</a> or <a href= "#EMSPOINT">
      EMSPOINT</a> programs<p>
    <b>Used by:</b><a href= "#CTLPMAT">    CTLPMAT</a>,
                    <a href= "#ELEVPOINT"> ELEVPOINT</a>, 
                    <a href= "#GRDPMAT">   GRDPMAT</a>,
                    <a href= "#LAYPOINT">  LAYPOINT</a>,
                    <a href= "#PDEMSPT">   PDEMSPT</a>,
                    <a href= "#PDPOINT">   PDPOINT</a>,
                    <a href= "#SPCPMAT">   SPCPMAT</a>,
                    <a href= "#TMPPOINT">  TMPPOINT</a>, or
                    <a href= "QA.html#GRDPOINT"> GRDPOINT</a> programs<p>

    <b>Summary:</b> The PNTS file is the file that contains the point source
    emissions and all source attributes.  At any of the processing stages in
    which SMOKE needs the state and county FIPS code, SCC or SIC codes, inventory
    year, annual emissions, etc., this is the file that is used. These sources
    atrributes are not duplicated in any other SMOKE file.<p>
    
    Subscripts for the file's variables represent the source number.  The sources
    are sorted deliberately in a specific sequence. They are sorted by  the first
    by state and county FIPS code, then by SCC code, then by plant ID, and
    finally by Stack ID.  The SIC, inventory year, and stack parameters are also
    stored in this file, but do not influence the sorting of the sources.  All
    other files that are arrays or matrices with rows corresponding to sources
    have the variables sorted in this same order.<p> 

    Regardless of the input units of the emissions, the <a href= "#RAWPOINT">
    RAWPOINT</a> or <a href= "#EMSPOINT"> EMSPOINT</a> programs convert to
    tons/year, which  is what is stored in this file.  The original temporal
    basis of the data, however, is maintained when applying the temporal
    profiles.  For example, day-specific data do not get adjusted by the monthly
    or weekly profiles, just the hourly ones.<p>    

<H3>File Format(s)</H3>
    <b>Structure:</b> Time-independent, degenerate GRDDED3<p>
    <b>Header:</b>
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NROWS
            <td> The number of rows is the number of point sources
            <td> Parameter NPSRC in <a href= "INCLUDES.html#ptdims">
            PTDIMS3.EXT</a>
        </tr>
    </table>
    </DL>
    <p>

    <b>Variables:</b><p>
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Variable
                        <td> Type
                        <td> Units
                        <td> Description
        <tr valign=top> <td> FIP
                        <td> Integer
                        <td> Unitless
			<td> State and county FIPS code
        <tr valign=top> <td> ISIC
                        <td> Integer
                        <td> Unitless
			<td> The Standard Industrial Classification code
        <tr valign=top> <td> ISCC
                        <td> Integer
                        <td> Unitless
			<td> The Source Category Code
        <tr valign=top> <td> IPLANT
                        <td> Integer
                        <td> Unitless
			<td> The Plant ID code (for EMS-95 input, this is not the
			same as the facility code)
        <tr valign=top> <td> ISTACK
                        <td> Integer
                        <td> Unitless
			<td> The Stack ID code (for EMS-95 input, this is not the
			same as the stack code)
        <tr valign=top> <td> TZONES
                        <td> Integer
                        <td> hours from GMT 
			<td> Standard time zone
        <tr valign=top> <td> TPFLAG
                        <td> Integer
                        <td> Unitless 
			<td> 
                            <UL>
                            <LI>  seasonal temporal profiles should be used for 
                                  a source S only if TPFLAG(S) is divisible by 
                                  parameter STPRFAC from INCLUDE file 
                                  <A HREF =
                                  "INCLUDES.html#tmdims">TMDIMS3.EXT</A>.

                            <LI>  monthly temporal profiles should be used for 
                                  a source S only if TPFLAG(S) is divisible by 
                                  parameter MTPRFAC.

                            <LI>  day-of-week temporal profiles should be used 
                                  and normalized over the whole week
                                  for a source S only if TPFLAG(S) is divisible 
                                  by parameter WTPRFAC.
                                  
                            <LI>  day-of-week temporal profiles should be used 
                                  and normalized over only the weekdays
                                  for a source S only if TPFLAG(S) is divisible 
                                  by parameter WDTPFAC.
                            </UL>
        <tr valign=top> <td> INVYR
                        <td> Integer
                        <td> year AD 
			<td> inventory year of emissions
        <tr valign=top> <td> XLOCA
                        <td> Float
                        <td> meters or degrees
			<td> X position converted to output grid projection
        <tr valign=top> <td> YLOCA
                        <td> Float
                        <td> meters or degrees
			<td> Y position converted to output grid projection
        <tr valign=top> <td> STKHT
                        <td> Float
                        <td> meters
			<td> Stack height from ground
        <tr valign=top> <td> STKDM
                        <td> Float
                        <td> meters
			<td> Stack diameter at gas exit
        <tr valign=top> <td> STKTK
                        <td> Float
                        <td> deg K
			<td> Stack exhaust temperature
        <tr valign=top> <td> STKVE
                        <td> Float
                        <td> meters/ second
			<td> Stack exhaust velocity
        <tr valign=top> <td> INVYR
                        <td> Integer
                        <td> year AD 
			<td> inventory year of emissions
        <tr valign=top> <td> CTLEFF_&lt;inventory pollutant name&gt;
                        <td> Float
                        <td> Unitless 
			<td> for each inventory pollutant, the control
			efficiency [0,100] percent
        <tr valign=top> <td> RULEFF_&lt;inventory pollutant name&gt;
                        <td> Float
                        <td> Unitless 
			<td> for each inventory pollutant, the rule
			effectiveness [0,100] percent
        <tr valign=top> <td> RULPEN_&lt;inventory pollutant name&gt;
                        <td> Float
                        <td> Unitless 
			<td> for each inventory pollutant, the rule
			penetration [0,100] percent
        <tr valign=top> <td> &lt;inventory pollutant name&gt;
                        <td> Float
                        <td> tons/year 
			<td> the emissions for each inventory pollutant
    </table>
    </DL>                    
    <p>

<HR> 

<H2> <a name="PRDAY"> PRDAY and PRHOUR File </a></H2>

<H3> Overview</H3>
    <b>Description:</b>EPS2.0 formatted ASCII day-specific or hour-specific
       point source inventory emissions files <p>
    <b>Sequence:</b> Optional input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b> <a href= "#RAWPOINT"> RAWPOINT</a> and <a href= "#PDPOINT">
    PDPOINT</a> programs<p>
    
    <b>Summary:</b> These files contain day- or hour- specific data in EPS2.0
    input file format. This format is the same as that which is described in the
    <a href= "#PNLST"> PNLST</a> section.  SMOKE permits only one PRDAY file and
    one PRHOUR file in the inventory, so all day- and hour- specific data must be
    put in these two files.<p>
    
    The files must also be provided to both of the programs listed above.  In <a
    href= "#RAWPOINT"> RAWPOINT</a>, the source is sorted into the correct
    location and a value for yearly emissions is inserted.  In <a href=
    "#PDPOINT"> PDPOINT</a>, the emissions are actually converted to a IO/API
    NetCDF file, for use by <a href= "#TMPPOINT"> TMPPOINT</a>.

<H3>File Format(s)</H3>
    <b>Same as:</b> Format in Table B-1 of the EPS2.0 Users's Manual<p>
    <b>Structure:</b> See <a href= "#PNLST"> PNLST</a> file descriptions
    (above).<p>
    
    It is also important that the records in these files are  <b>sorted into
    chronological order </b> (so that PRDAY might have, for example, a year's
    day-specific records for July 1 before those for July 2, before
    those for July 3, and so on).  All of the records should have the
    same duration--either one hour or one day in each file, as appropriate.
    <P> 

<HR> 

   
<H2> <a name="PSCC"> PSCC File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Sorted list of SCC codes appearing in the inventory<p>
    <b>Sequence:</b> Intermediate<p>
    <b>Type:</b>ASCII<p>
    <b>Origin:</b><a href= "#RAWPOINT"> RAWPOINT</a> or <a href= "#EMSPOINT">
      EMSPOINT</a> programs<p>
    <b>Used by:</b> <a href= "#SPCPMAT"> SPCPMAT</a> and <a href= "#TMPPOINT">
    TMPPOINT</a><p>
    <b>Summary:</b> The PSCC file is a list of all SCCs in the inventory.  Each
    It lists each code only once and in numerical order.<p>

<H3>File Format(s)</H3>
    <b>Structure:</b> List-formatted, single column of values<p>

    <b>Example:</b><p>
    <pre>
    10100101
    10100102
    10100201
    10100202
    10100203
    10100204
    10100205
    10100212
    10100217
    10100221
    10100222
    </pre>
    
    
<HR> 

<H2> <a name="PSCNV"> PSCNV File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Volatile conversion factors (e.g., ROG to TOG)<p>
    <b>Sequence:</b> Optional input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b> <a href= "#SPCPMAT"> SPCPMAT</a> program<p>
    
    <b>Summary:</b>  The PSCNV file is used to convert the volatile inventory
    pollutant emissions in the point source inventory to a different volatile
    inventory pollutant, for which the speciation profiles are available.  This
    file is not necessary if the volatile inventory pollutant is consistent
    between the two files.<p>

<H3>File Format(s)</H3>
    <b>Same as:</b> EMS-95 file "rogtotog.sp"<p>
    <b>Structure:</b> Column-specific<p>

        <DL><DT> &nbsp; <DD>
        <table>
            <tr><td align=center> Line</td> <td align=center>Columns</td> 
                <td>Description</td>
            <tr><td align=center> 1+
                <td align=center> 1-2
                <td> State FIPS code (or "." or zero or blank for default)
            <tr><td align=center> &nbsp;
                <td align=center> 3-17
                <td> SCC code
             <tr><td align=center> &nbsp;
                <td align=center> 19-23
                <td> volatile conversion factor
       </table>
       </DL>
       <p>

   <b>Example:</b><p>
   <pre>
   0000000000         1.00
     10100101         1.02
     10100102         1.02
     10100201         1.02
     10100202         1.02
     10100203         1.02
     10100204         1.02
     10100205         1.02
     10100225         1.02
     10100226         1.02
     10100301         1.02
     10100302         1.02
     10100303         1.02
     10100304         1.02
     10100306         1.02
     10100401         1.12
   </pre>
   <p>

<HR> 

<H2> <a name="PSMAT"> PSMAT File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Point source speciation matrix<p>
    <b>Sequence:</b> Intermediate<p> 
    <b>Type:</b> IO/API NetCDF<p>
    <b>Origin:</b> <a href= "#SPCPMAT"> SPCPMAT</a> program<p>
    <b>Used by:</b> <a href= "QA.html#CSGPOINT"> CSGPOINT</a>,
                    <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>,
                    <a href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a>, or
                    <a href= "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a> programs<p>

    <b>Summary:</b> The speciation matrix is used to transform source- based
    emissions of inventory pollutants to source- based emissions of model
    species. The rows of the matrix correspond to the point sources (with the
    rows sorted in the same order as the sources in the <a href= "#PNTS">
    PNTS</a> file.  The columns of the matrix correspond to the intersections
    of the inventory pollutants and the model species, and because each
    inventory pollutant gives rise to only a few model species, this matrix is
    sparse (has a lot of zeroes).  In order to prevent the storage of zeroes
    for nonsense transformations (such as CO to NO2 - when only NOx produces
    NO2), the non-zero portions of the matrix are stored as variables in the
    file.  See below for more information on the storage format.<p>

<H3>File Format(s)</H3>
    <b>Structure:</b> Time- independent, degenerate GRDDED3<p>
    <b>Header:</b>
    <DL><DT> &nbsp; <DD>
    <table>
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NROWS
            <td> The number of rows is used for the actual number of point
            sources 
            <td> Parameter NPSRC in <a href= "INCLUDES.html#ptdims">
            PTDIMS3.EXT</a>
        </tr>
    </table>
    </DL>
    
    <b>Variables:</b><p>

    The variables have names built out of the names of the inventory and
    chemical mechanism species in the include file <A HREF =
    "INCLUDES.html#chdims"> CHDIMS3.EXT</A>.  In the example below, VOC is
    assumed to be the volatile inventory pollutant.<p>
    
    Generally, the structure of the variable names in the PSMAT file is:
        <BLOCKQUOTE>
            <VAR>&lt;inventory pollutant&gt;_to_&lt;model species&gt</VAR>
        </BLOCKQUOTE>

    <p>
    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Variable
                        <td> Type
                        <td> Units
                        <td> Description
        <tr valign=top> <td> CO_to_CO
                        <td> Float
                        <td> moles/ton
			<td> Conversion factor from CO in tons to CO in moles
        <tr valign=top> <td> NOX_to_NO 
                        <td> Float
                        <td> moles/ton
			<td> Conversion factor from NOx in tons to NO in moles
        <tr valign=top> <td> NOX_to_NO2
                        <td> Float
                        <td> moles/ton
			<td> Conversion factor from NOx in tons to NO2 in moles
        <tr valign=top> <td> VOC_to_OLE
                        <td> Float
                        <td> moles/ton
			<td> Conversion factor from VOC in tons to Olefins in
			moles
        <tr valign=top> <td> VOC_to_PAR
                        <td> Float
                        <td> moles/ton
			<td> Conversion factor from VOC in tons to Parafins in
			moles
        <tr valign=top> <td> etc.
                        <td> &nbsp;
                        <td> &nbsp;
			<td> &nbsp;
    </table>
    </DL>                    
    <p>

<HR> 
   
<H2> <a name="PSPRO"> PSPRO File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> EPS2.0- formatted speciation profiles<p>
    <b>Sequence:</b> Input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b> <a href= "SPCPMAT.html"> SPCPMAT</a><p>

    <b>Summary:</b> The PSPRO file is used for creating the speciation matrix
    factors for converting the volatile inventory pollutant (e.g., VOC, ROG,
    TOG) to its component species (e.g., OLE, PAR, ETH).  The factors in this
    file are called "split factors" or "speciation profiles".<p>

<H3>File Format(s)</H3>
    <b>Same as:</b> EPS2.0 split factors file (from EMSCVT), Table B-35 in
    EPS2.0 manual (exception in line length: maximum length here is 256, not
    306)<p>
    <b>Structure:</b> Column-specific<p>
        <DL><DT> &nbsp; <DD>
        <table>
            <tr><td align=center> Line</td> <td align=center>Columns</td> 
                <td>Description</td>
            <tr><td align=center> 1
                <td align=center> 1-5
                <td> Number of species in file
            <tr><td align=center> 2+
                <td align=center> 1-10
                <td> Species name (as appears in <a href=
                    "INCLUDES.html#chdims"> CHDIMS3.EXT</a>)
             <tr><td align=center> &nbsp;
                <td align=center> 12-16
                <td> Molecular weight
             <tr><td align=center> &nbsp;
                <td align=center> 18-22
                <td> Inventory pollutant for which speciation factors are
                applicable
             <tr><td align=center> 3+
                <td align=center> 1-5
                <td> Profile code
             <tr><td align=center> &nbsp;
                <td align=center> 6-256
                <td> Splitting factors for species, with each species in the
                its own E10.3 column in the order as described in the header
       </table>
       </DL>
       <p>

    <b>Example:</b> 
    <p>
    <pre>
       10
    ALD2        32.0 TOG  
    ETH         32.0 TOG  
    ETOH        32.0 TOG  
    FORM        16.0 TOG  
    ISOP        80.0 TOG  
    MEOH        16.0 TOG  
    OLE         32.0 TOG  
    PAR         16.0 TOG  
    TOL        112.0 TOG  
    XYL        128.0 TOG  
     0000  .761E-03  .129E-02  .295E-03  .525E-03  .587E-04  .437E-03  .190E-02  .264E-01  .593E-03  .398E-03
     0001  .000E+00  .000E+00  .000E+00  .140E-01  .000E+00  .000E+00  .000E+00  .276E-01  .000E+00  .000E+00
     0002  .000E+00  .000E+00  .000E+00  .162E-01  .000E+00  .000E+00  .000E+00  .352E-01  .000E+00  .000E+00
     0003  .000E+00  .000E+00  .000E+00  .266E-02  .000E+00  .000E+00  .000E+00  .202E-01  .217E-03  .000E+00
     0004  .000E+00  .000E+00  .000E+00  .253E-02  .000E+00  .000E+00  .416E-02  .323E-01  .000E+00  .000E+00
     0005  .000E+00  .417E-02  .000E+00  .000E+00  .000E+00  .000E+00  .713E-04  .147E-02  .000E+00  .000E+00
     0007  .000E+00  .000E+00  .000E+00  .999E-02  .000E+00  .000E+00  .000E+00  .436E-03  .000E+00  .000E+00
     0008  .000E+00  .102E-01  .000E+00  .000E+00  .000E+00  .000E+00  .909E-02  .147E-01  .000E+00  .000E+00
     0009  .000E+00  .102E-01  .000E+00  .000E+00  .000E+00  .000E+00  .909E-02  .147E-01  .000E+00  .000E+00
     0011  .000E+00  .988E-02  .000E+00  .000E+00  .000E+00  .000E+00  .654E-03  .427E-02  .760E-04  .000E+00
     0012  .000E+00  .000E+00  .000E+00  .000E+00  .000E+00  .000E+00  .000E+00  .184E-01  .000E+00  .000E+00
     0013  .000E+00  .210E-02  .000E+00  .000E+00  .000E+00  .000E+00  .713E-03  .725E-02  .000E+00  .000E+00
     0014  .000E+00  .000E+00  .000E+00  .000E+00  .000E+00  .000E+00  .000E+00  .403E-01  .391E-03  .000E+00

    </pre>
    <p>

<HR> 

   
<H2> <a name="PSRC"> PSRC File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> List of SMOKE sources with EMS-95 facility and stack IDs<p>
    <b>Sequence:</b> Output<p>
    <b>Type:</b>ASCII<p>
    <b>Origin:</b><a href= "#EMSPOINT"> EMSPOINT</a> program<p>
    <b>Used by:</b> <a href= "#PDEMSPT"> PDEMSPT</a><p>
    
    <b>Summary:</b> The PSRC file contains all SMOKE sources with their SMOKE
    IDs and correspinding EMS-95 IDs.  This file is how a user can figure out
    which sources as described by the inventory input files are referenced in
    error and warning messages that use the SMOKE plant and stack IDs. Recall
    that SMOKE needs to assign new IDs, because EMS-95 permits alpha-numeric
    IDs, and SMOKE permits only integers.  The file also contains the plant
    names.<p>

<H3>File Format(s)</H3>
    <b>Structure:</b> List-formatted<p>
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center>A
            <td> State and county FIPS code
       <tr><td align=center> &nbsp;
            <td align=center>B
            <td> SCC
       <tr><td align=center> &nbsp;
            <td align=center>C
            <td>SMOKE plant ID
       <tr><td align=center> &nbsp;
            <td align=center>D
            <td>SMOKE Stack ID
       <tr><td align=center> &nbsp;
            <td align=center>E
            <td>EMS-95 facility ID
       <tr><td align=center> &nbsp;
            <td align=center>F
            <td>EMS-95 stack ID
       <tr><td align=center> &nbsp;
            <td align=center>G
            <td> Device ID (note: this is invalid)
       <tr><td align=center> &nbsp;
            <td align=center>H
            <td> Plant name
 
    </table>
    </DL>
    <p>
    <b>Example:</b><p>
    <pre>
    01001,10200201,     1,     5,0001           ,010         ,010         ,UNION CAMPCORP                         
    01001,10200601,     1,     4,0001           ,006         ,006         ,UNION CAMPCORP                         
    01001,30700104,     1,     1,0001           ,001         ,001         ,UNION CAMPCORP                         
    01001,30700105,     1,     2,0001           ,002         ,002         ,UNION CAMPCORP                         
    01001,30700105,     1,     7,0001           ,012         ,012         ,UNION CAMPCORP                         
    01001,30700106,     1,     3,0001           ,003         ,003         ,UNION CAMPCORP                         
    01001,30700106,     1,     8,0001           ,013         ,013         ,UNION CAMPCORP                         
    01001,30700110,     1,     6,0001           ,011         ,011         ,UNION CAMPCORP                         
    01003,10200502,     2,     9,0007           ,001         ,001         ,UNIROYAL CHEMICAL                       
    01003,30103399,     2,    10,0007           ,002         ,002         ,UNIROYAL CHEMICAL                       
    01003,40201901,     3,    11,0009           ,001         ,001         ,STANDARD FURNITURE MANUFACTURING CO     
    01003,40201901,     4,    12,0027           ,001         ,001         ,BALDWIN DINNETTES                       
    05063,30199999,    42,   152,0036           ,50          ,08A         ,ARKANSAS EASTMAN COMPANY                
    05063,30199999,    42,   153,0036           ,51          ,08B         ,ARKANSAS EASTMAN COMPANY                
    05063,40799998,    42,   155,0036           ,59          ,08K         ,ARKANSAS EASTMAN COMPANY                
    05063,40799998,    42,   157,0036           ,61          ,08N         ,ARKANSAS EASTMAN COMPANY                
    05063,40799998,    42,   158,0036           ,62          ,08P         ,ARKANSAS EASTMAN COMPANY                
    05063,40799998,    42,   159,0036           ,63          ,08R         ,ARKANSAS EASTMAN COMPANY                
    </pre>
    <p>
    

<HR> 

<H2> <a name="PSREF"> PSREF File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> EPS2.0- formatted speciation cross- reference<p>
    <b>Sequence:</b> Input<p>
    <b>Type:</b>ASCII<p>
    <b>Origin:</b> User preparation<p>
    <b>Used by:</b><a href= "SPCPMAT.html"> SPCPMAT</a><p>

    <b>Summary:</b> The PSREF file is used to match point sources with the
    speciation profiles that the sources are to use for the speciation step. 
    For example, this file could indicate that all Solid Waste Dispoal
    Incineration using Single Chamber Mass burn (SCC 50100102) should use
    speciation profile 0122. The source attributes of state and county FIPS code
    and SCC  are used to match the sources to the speciation profiles.  The file
    can indicate defaults by using zeroes or blanks instead of valid FIPS codes
    or SCC codes.<p>

<H3>File Format(s)</H3>
    <b>Same as:</b> EPS2.0 speciation cross-refernces, Table B-11 in the EPS2.0
    manual.<p>
    
    <b>Structure:</b> Column-specific<p>
        Only fields that are used by SMOKE are listed:<p>
        <DL><DT> &nbsp; <DD>
        <table>
            <tr><td align=center> Line</td> <td align=center>Columns</td> 
                <td>Description</td>
            <tr><td align=center> 1+
                <td align=center> 1-5
                <td> State and county FIPS code
            <tr><td align=center>  &nbsp;
                <td align=center> 7-11
                <td> Plant ID (blank to indicate all plants)
            <tr><td align=center>  &nbsp;
                <td align=center> 13-15
                <td> Stack ID (blank to indicate all plants)
            <tr><td align=center>  &nbsp;
                <td align=center> 17-26
                <td> SCC code
            <tr><td align=center>  &nbsp;
                <td align=center> 28-32
                <td> Speciation profile code
            <tr><td align=center>  &nbsp;
                <td align=center> 34-38
                <td> VOC fracion for profile; fraction of total mass that is to
                be speciated (used for THC inventory only)
            <tr><td align=center>  &nbsp;
                <td align=center> 55-59
                <td> Ethane correction factor (default = 1.0)
            <tr><td align=center>  &nbsp;
                <td align=center> 61-65
                <td> Formaldehyde correction factor (default = 0.0)
            <tr><td align=center>  &nbsp;
                <td align=center> 67-71
                <td> Overall correction factor (default = 1.0)
       </table>
       </DL>
       <p>

    <b>Example:</b>
    <p>
    <pre>
    00000           20101001   0000  1.000                1.000 0.000 1.000
    00000           30100104   0000  1.000                1.000 0.000 1.000
    00000           30100106   0000  1.000                1.000 0.000 1.000
    00000           30100108   0000  1.000                1.000 0.000 1.000
    00000           30100109   0000  1.000                1.000 0.000 1.000
    00000           30100502   0000  1.000                1.000 0.000 1.000
    00000           30100506   0000  1.000                1.000 0.000 1.000
    00000           30100508   0000  1.000                1.000 0.000 1.000
    00000           30100509   0000  1.000                1.000 0.000 1.000
    00000           30100605   0000  1.000                1.000 0.000 1.000
    00000           30100801   0000  1.000                1.000 0.000 1.000
    00000           30100802   0000  1.000                1.000 0.000 1.000
    00000           30100803   0000  1.000                1.000 0.000 1.000
    </pre> 
    <p>

<HR> 

<H2> <a name="PSTK"> PSTK File </a></H2>

<H3> Overview</H3> 
    <b>Description:</b>  Replacement values of missing stack parameters<p>
    <b>Sequence:</b> Input<p>
    <b>Type:</b> ASCII<p>
    <b>Origin:</b>User preparation<p>
    <b>Used by:</b> <a href= "#EMSPOINT"> EMSPOINT</a> or <a href= "#RAWPOINT">
    RAWPOINT</a> programs<p>
    
    <b>Summary:</b>The PSTK file contains the replacement stack parmeters that
    are used when stack parameters are missing from the inventory file(s).  The
    format of the file permits stack parameters to be replaced based on the
    point sources' FIPS code and SCC.  For more information on how this file
    relates to the bounding of stack parameters based on minimum and maximum
    values, please refer to the <a href= "#EMSPOINT"> EMSPOINT</a> or <a href=
    "#RAWPOINT"> RAWPOINT</a> docmentation.<p>

    The FIP-0,SCC-0 record should always be present.  The algorithm to
    be used in interpreting and applying this file to replace missing
    stack parameters is the following:<br>
    <ul>
    <li>If a FIP-and-SCC match exists, use it;
    <li>Else if a nn000-SCC (state-and-SCC) match exists, use it; 
    <li>Else if a FIP-0 SCC match exists, use it; 
    <li>Else use the FIP-0,SCC-0 record as an ultimate fallback.
    </ul>
    <p>

<H3>File Format(s)</H3>
    <b>Structure:</b> List- formatted<p>
    <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1+
            <td align=center>A
            <td>State and county FIPs code
       <tr><td align=center> &nbsp;
            <td align=center>B
            <td>Standard Classification Code (SCC)
       <tr><td align=center> &nbsp;
            <td align=center> C
            <td>Stack height from ground (m)
        <tr><td align=center> &nbsp;
            <td align=center>D
            <td>Stack diameter (m)
       <tr><td align=center> &nbsp;
            <td align=center>E
            <td>Stack exhaust temperature (deg K)
       <tr><td align=center> &nbsp;
            <td align=center>F
            <td>Stack exhaust velocity (m/s)

    </table>
    </DL>
    <p>

    <b>Example:</b> (NOTE: these are the defaults from the UAM-V)
    <p>
    <pre>
    00000, 00000000, 3.0, 0.2, 295.38, 4.0
    </pre> 
    <p>

<HR> 

<H2> <a name="PTMP"> PTMP File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Hourly inventory pollutant emissions<p>
    <b>Sequence:</b> Intermediate <p>
    <b>Type:</b> IO/API NetCDF<p>
    <b>Origin:</b> <a href= "#TMPPOINT"> TMPPOINT</a><p>
    <b>Used by:</b> <a href= "QA.html#GRDPOINT"> GRDPOINT</a>,
                    <a href= "QA.html#CSGPOINT"> CSGPOINT</a>,
                    <a href= "MERGE.html#CSGMERGE"> CSGMERGE</a>,
                    <a href= "MERGE.html#CSGLMERGE"> CSGLMERGE</a>, or
                    <a href= "MERGE.html#CSGLDAYMRG"> CSGLDAYMRG</a> programs<p>

    <b>Summary:</b> The PTMP file contains hourly, inventory pollutant emissions
    for each source.  The file contains one hour for each hour of output that
    will be generated by the merge step(s). It is created by applying temporal
    profiles to the annual emissions in the inventory file, and by merging in
    the day- and hour-specific data from the <a href= "#PDAY"> PDAY</a> and
    <a href= "#PHOUR"> PHOUR</a> files.<p>

<H3>File Format(s)</H3>
    <b>Structure:</b>Time-dependent, degenerate GRDDED<p>
    <b>Header:</b>
    <DL><DT> &nbsp; <DD>
    <table>
        <tr valign=top> <td> Header variable
                        <td> Meaning
                        <td> Set by...
        </tr>
        <tr valign=top> <td> NROWS
            <td> The number of rows is used for the actual number of point
            sources 
            <td> Parameter NPSRC in <a href= "INCLUDES.html#ptdims">
                 PTDIMS3.EXT</a>
        </tr>
        <tr valign=top> <td> NVARS
            <td> The number of variables
            <td> Parameter NIPOL in <a href= "INCLUDES.html#chdims">
            CHDIMS3.EXT</a>
        </tr>
    </table>
    </DL>
    <p>

    <b>Variables:</b><p>    
    
    The variables have names built out of the names of the inventory pollutants
    in the include file <A HREF = "INCLUDES.html#chdims"> CHDIMS3.EXT</A>.  In
    the example below, VOC is assumed to be the volatile inventory pollutant.<p>

    <DL><DT> &nbsp; <DD>
    <table >
        <tr valign=top> <td> Variable
                        <td> Type
                        <td> Units
                        <td> Description
        <tr valign=top> <td> CO
                        <td> Float
                        <td> tons/hour
			<td> Carbon monoxide emissions
        <tr valign=top> <td> NOX 
                        <td> Float
                        <td> tons/hour
			<td> Nitrogen oxides emissions
        <tr valign=top> <td> VOC
                        <td> Float
                        <td> tons/hour
			<td> Volatile organic compound emissions
    </table>
    </DL>                    
    <p>


<HR> 

<H2> <a name="PTPRO"> PTPRO File </a></H2>

<H3> Overview</H3>
    <b>Description:</b>EPS2.0- formatted temporal profiles <p>
    <b>Sequence:</b> Input<p>
    <b>Type:</b> ASCII <p>
    <b>Origin:</b> User preparation <p>
    <b>Used by:</b> <a href= "#TMPPOINT"> TMPPOINT</a><p>

    <b>Summary:</b> The PTPRO file contains the monthly, weekly, and hourly
    temporal profiles used to convert the annual emissions stored in the
    inventory file to the hourly inventory pollutant emissions.  The file
    can contains four types of records:
    
    <UL> 
        <LI>  <b>Monthly</b> temporal weighting factors (/MONTHLY/ packet)
        <LI>  <b>Weekly</b>  temporal weighting factors (/WEEKLY/ packet)
        <LI>  <b>Weekday Diurnal</b>  temporal weighting factors (/DIURNAL
        WEEKDAY/ packet)
        <LI>  <b>Weekend Diurnal</b>  temporal weighting factors (/DIURNAL
        WEEKEND/ packet)
    </UL>

    The weekend diurnal temporal factors are optional.  If the monthly factors
    are not used becasuse all of the inventory emissions are supplied as
    "per day" emissions, at least one monthly profile is still needed to
    prevent and error.<p>

<H3>File Format(s)</H3>
    <b>Same as:</b> EPS2.0 temporal profiles file, Tables B-38
    through B-40, produced by TMPFAC <p>
    <b>Structure:</b> Column specific<p>
        <DL><DT> &nbsp; <DD>
        <table>
            <tr><td align=center> Line</td> <td align=center>Columns</td> 
                <td>Description</td>
            <tr>
            <th colspan=3> /MONTHLY/  packet</th>
            <tr><td align=center> 1
                <td align=center> 1-20
                <td> Packet identifier = /MONTHLY/
            <tr><td align=center> 2+
                <td align=center> 1-5
                <td> Monthly temporal profile code
            <tr><td align=center> &nbsp;
                <td align=center> 7-9
                <td> Temporal weight for January
            <tr><td align=center> &nbsp;
                <td align=center> 11-13
                <td> Temporal weight for February
            <tr><td align=center>  &nbsp;
                <td align=center> ...
                <td> ...
            <tr><td align=center>  &nbsp;
                <td align=center> 51-53
                <td> Temporal weight for December
            <tr><td align=center>  &nbsp;
                <td align=center> 51-53
                <td> Total of weights for entire year
            <tr><td align=center> 3
                <td align=center> 1-20
                <td> Packet terminator = /END/
            <tr>
            <th colspan=3> /WEEKLY/  packet</th>
            <tr><td align=center> 1
                <td align=center> 1-20
                <td> Packet identifier = /WEEKLY/
            <tr><td align=center> 2+
                <td align=center> 1-5
                <td> Weekly temporal profile code
            <tr><td align=center> &nbsp;
                <td align=center> 7-9
                <td> Temporal weight for Monday
            <tr><td align=center> &nbsp;
                <td align=center> 11-13
                <td> Temporal weight for Tuesday
            <tr><td align=center>  &nbsp;
                <td align=center> ...
                <td> ...
            <tr><td align=center>  &nbsp;
                <td align=center> 31-33
                <td> Temporal weight for Sunday
            <tr><td align=center>  &nbsp;
                <td align=center> 35-39
                <td> Total of weights for entire week
            <tr><td align=center> 3
                <td align=center> 1-20
                <td> Packet terminator = /END/
            <tr>
            <th colspan=3> /DIURNAL */  packet</th>
            <tr><td align=center> 1
                <td align=center> 1-20
                <td> Packet identifier = /DIURNAL WEEKDAY/ or /DIURNAL WEEKEND/
            <tr><td align=center> 2+
                <td align=center> 1-5
                <td> Diurnal temporal profile code
            <tr><td align=center> &nbsp;
                <td align=center> 7-9
                <td> Temporal weight for hour beginning 0000
            <tr><td align=center> &nbsp;
                <td align=center> 11-13
                <td> Temporal weight for hour beginning 0100
            <tr><td align=center>  &nbsp;
                <td align=center> ...
                <td> ...
            <tr><td align=center>  &nbsp;
                <td align=center> 99-101
                <td> Temporal weight for hour beginning 2300
            <tr><td align=center>  &nbsp;
                <td align=center> 103-105
                <td> Total of weights for entire day
            <tr><td align=center> 3
                <td align=center> 1-20
                <td> Packet terminator = /END/
       </table>
       </DL>
    <p>

    <b>Example:</b>
    <pre>
    /MONTHLY/
        1  83  83  83  83  83  83  83  83  83  83  83  83  996
    /END/
    /WEEKLY/
        1   1   1   1   1   1   0   0    5
        2   0   0   0   0   0   1   1    2
        3   1   1   1   1   1   0   0    5
    /END/
    /DIURNAL WEEKDAY/
        1   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   0   0
          0   0   0   0   0   0    8
        2   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   0   0
          0   0   0   0   0   0    8
       81 417 417 417 417 417 417 417 417 417 417 417 416 414 415 417 417 417 417 417 417 417 417 417 41510000
       82 388 351 315 299 299 321 348 402 441 456 457 461 457 461 461 460 464 460 456 456 455 453 450 42910000
    /END/
    </pre>
    <p>

<HR> 

<H2> <a name="PTREF"> PTREF File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> EPS2.0- formatted temporal cross- reference<p>
    <b>Sequence:</b> Input<p>
    <b>Type:</b> ASCII <p>
    <b>Origin:</b> User preparation</p>
    <b>Used by:</b><a href= "#TMPPOINT"> TMPPOINT</a><p>
    
    <b>Summary:</b> The PTREF file is used to match point sources with the
    temporal profiles that the sources are to use for the temporalization step. 
    For example, this file could indicate that all polymer production plants 
    should use monthly profile 1, weekly profile 6, and hourly profile 37. The
    source attributes of state and county FIPS code, Standard Classification
    Code (SCC), Plant ID, and Stack ID are used to match the sources to the
    speciation profiles.  Temporal profiles CAN be applied to a specific
    pollutant from a source.  The file can indicate defaults by using zeroes,
    blanks, or negative values, instead of valid codes.<p>

<H3>File Format(s)</H3>
    <b>Same as:</b> EPS2.0 temporal cross- reference file, Table B-37, prodcued
    by TMPFAC (with the exception that pollutant code is not used).<p>
    
    <b>Structure:</b>
        <DL><DT> &nbsp; <DD>
        <table>
            <tr><td align=center> Line</td> <td align=center>Columns</td> 
                <td>Description</td>
            <tr><td align=center> 1+
                <td align=center> 1-5
                <td> State and couty FIPS code
            <tr><td align=center>  &nbsp;
                <td align=center> 7-11
                <td> Plant ID
            <tr><td align=center>  &nbsp;
                <td align=center> 13-15
                <td> Stack ID
            <tr><td align=center>  &nbsp;
                <td align=center> 21-30
                <td> SCC code
            <tr><td align=center>  &nbsp;
                <td align=center> 32-36
                <td> Pollutant code (integer)
            <tr><td align=center>  &nbsp;
                <td align=center> 38-40
                <td> Monthly temporal profile code
            <tr><td align=center>  &nbsp;
                <td align=center> 42-44
                <td> Weekly temporal profile code
            <tr><td align=center>  &nbsp;
                <td align=center> 46-48
                <td> Diurnal temporal profile code
        </table>
        </DL>
    <p>
    
    <b>Example:</b>
    <pre>
    37195 0040    1       10200401 42603 174   6  24
    37195 0040    1       10200401 43104 174   6  24
    37195 0040    2       10200401 42101 174   6  24
    37195 0040    2       10200401 42603 174   6  24
    37195 0040    2       10200401 43104 174   6  24
    37195 0043    1       10200401 42101   1   7  24
    37195 0043    1       10200401 42603   1   7  24
    37195 0043    1       10200401 43104   1   7  24
    37195 0043    1       10200501 42101   1   7  24
    </pre>
    <p>

<H2> <a name="REPRTLAY"> REPRTLAY File </a></H2>

<H3> Overview</H3>
    <b>Description:</b> Report of sources with plume rise exceeding a specific 
       layer<p>
    <b>Sequence:</b> Optional output<p>
    <b>Type:</b> ASCII <p>
    <b>Origin:</b> <a href= "#LAYPOINT"> LAYPOINT</a></p>
    <b>Used by:</b>None<p>
    
    <b>Summary:</b> The REPRTLAY file contains source details and 
    meteorological conditions for hours and sources with plume rise entering a
    layer higher than the value of the REP_LAYER_MAX environment variable.  The
    file is only written out if REP_LAYER_MAX is set to a valid value.<p>

<H3>File Format(s)</H3>    
    <b>Structure:</b> List-formatted
        <DL><DT> &nbsp; <DD>
    <table>
       <tr><td align=center> Line</td> <td align=center>Columns</td>
            <td>Description</td>
       <tr><td align=center> 1-3
            <td align=center>A
            <td>Header information
       <tr><td align=center> 4-6
            <td align=center>A
            <td>Date information
       <tr><td align=center>7
            <td align=center> A
            <td>Time information
        <tr><td align=center>8+
            <td align=center>A
            <td>Source ID number
       <tr><td align=center> &nbsp;
            <td align=center>B
            <td>FIPs code
       <tr><td align=center> &nbsp;
            <td align=center>C
            <td>SCC
       <tr><td align=center> &nbsp;
            <td align=center>D
            <td>Plant ID
       <tr><td align=center> &nbsp;
            <td align=center>E
            <td>Stack ID
       <tr><td align=center> &nbsp;
            <td align=center>F
            <td>Stack height (m)
       <tr><td align=center> &nbsp;
            <td align=center>G
            <td>Stack exhaust velocity (m/s)
       <tr><td align=center> &nbsp;
            <td align=center>H
            <td>Stack exhaust temperature (K)
       <tr><td align=center> &nbsp;
            <td align=center>I
            <td>Ambient temperature at the stack (K)
       <tr><td align=center> &nbsp;
            <td align=center>J
            <td>Horizontal wind speed at the stack (m/s)
       <tr><td align=center> &nbsp;
            <td align=center>K
            <td>Layer containing mixing height
       <tr><td align=center> &nbsp;
            <td align=center>L
            <td>Top layer of plume rise
        </table>
        </DL>
    <p>
    
    <b>Example:</b>
    <pre>
Sources with top of plume greater than layer 12

Src ID FIP   SCC      Plant  Stack  H[m]   V[m/s] Ts[K]  Ta[K] U[m/s] LPBL LTOP
Processing Friday    July 7, 1995


        at time 12:00:00
  6508 12107 10100202    471   1680  206.0  19.44  343.7 298.5    .97   1  14
  6509 12107 10100202    471   1681  206.0  19.44  343.7 298.5    .97   1  14
  6510 12107 10100501    471   1680  206.0  19.44  343.7 298.5    .97   1  14
  6511 12107 10100501    471   1681  206.0  19.44  343.7 298.5    .97   1  14
 24131 18147 10100222   1032   3400  316.4  41.36  447.0 293.0   1.24   5  16
 24132 18147 10100222   1032   3401  316.4  41.36  447.0 293.0   1.24   5  16
 24133 18147 10100501   1032   3400  316.4  41.36  447.0 293.0   1.24   5  16
 24134 18147 10100501   1032   3401  316.4  41.36  447.0 293.0   1.24   5  16
 88825 48149 10100302    415   7586  162.5  25.89  378.7 297.9    .86   1  13
127574 99999 99000030    394   1390   24.1  62.00  317.6 302.2   2.68   7  22
127700 99999 99000030    577   2105   21.0  62.00  317.6 302.2   2.77   7  22
    </pre>        
<HR> 

<A HREF = "AREAS.html"> 
<STRONG>Previous:</STRONG>  Area Source Emissions</A>
<P> 

<A HREF = "MOBILE.html"> 
<STRONG>Next:</STRONG>      Mobile Source Emissions </A>
<P> 

<A HREF = "index.html#models">  
<STRONG>Up:</STRONG>  Models  -- Area, Point, Biogenic, Mobile </A>
<P> 

<A HREF = "index.html"> 
<STRONG>Top:</STRONG>  SMOKE Root Document  </A>
<P> 


</BODY>   
</HTML>  

